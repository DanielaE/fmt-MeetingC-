<!DOCTYPE html>
	<html class="sl-root decks export offline loaded">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Socializing with {fmt}</title>

		<meta name="description" content="Getting familiar with the fmt library">

		<link rel="stylesheet" type="text/css" href="lib/offline-v2.css">



	</head>
	<body class="reveal-viewport theme-font-league theme-color-black-orange">
		<div class="reveal">
			<div class="slides">
				<section data-id="3c03a0db84e1086d900e5ec756a96968"><div class="sl-block" data-block-type="text" style="width: 806px; left: 80px; top: 241px; height: auto;" data-block-id="bd378bf0b7c6273b2f3a3003d2723376"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11; font-size: 150%;">
<h1>Socializing with {fmt}</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 451px;" data-block-id="153d6cb6fd3c67ca338cb1872017a00a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p>Getting familiar with the fmt library</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="7271cf5f7cfd5f335b47b30497289595"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p>Meeting C++ 2018</p>
</div></div></section><section class="stack" data-id="9b40eace9b3bbb334934c64857d7070b"><section data-id="9b265719fb1bab2b3828e20b112375d6"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="8394ee9b1b731e20daf75d007a219914"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Â  Â  Â Â  Who am I ?</p>

<p>Â </p>

<h2><span style="font-size:1.0em">Â  Â Â  Daniela Engert</span></h2>

<p>Â </p>

<ul>
	<li class="fragment" data-fragment-index="0">Electrical Engineer</li>
	<li class="fragment" data-fragment-index="1">For 40 years creating computers and software</li>
	<li class="fragment" data-fragment-index="2">For 30 years developing hardware and software in the field of applied digital signal processing</li>
	<li class="fragment" data-fragment-index="3">For 20 years catching electromagnetic waves travelling around the world</li>
	<li class="fragment" data-fragment-index="4">For 10 years listening to the echoes of ultrasound pings and creating vortices of eddy currents in steel</li>
	<li class="fragment" data-fragment-index="5">For the first time giving a talk ...</li>
</ul>
</div></div></section><section data-id="ca9b5e41874a0b1af0e53b144f84937a"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="78c7ac3d16ec74b19f02165922922c1b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>A small company located in NÃ¼rnberg, Germany</p>

<p>Â </p>

<p>About 15 people, 9 of them working in the engineering departments (mechanical, electrical, software), creating custom built machines for the non-destructive testing of steel goods.</p>

<p>Â </p>

<p>Mission: detect and visualize flaws hidden in the body of any kind of steel pieces,Â  or cracks at their surface (possibly buried below coatings) without doing any kind of harm to them.</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 320px; height: 87px; left: 80px; top: 70px;" data-block-id="541726cfd7021a1d1752ff4a4d8afcce"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="59" data-natural-height="16" data-lazy-loaded="" data-src="socializing-with-fmt/9ea354bd91eb0ee41a2abed198054c3a.svg"></div></div></section><section data-id="f419cd2c030df39d49d3c8b5f105a3de"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 823px; height: 700px; left: 69px; top: 0px;" data-block-id="97cdc5beb41b6202d125979d239a31e2"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="1587" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/aea5dbae585871294357e5f189b00dcb.jpg"></div></div></section><section data-id="c07452d78c487c18efae84d67344620e"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 806px; height: 700px; left: 77px; top: 0px;" data-block-id="d45f0275a295197185aee76d5e7917d7"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="1554" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/27be4f41dcfaad4c53b8ef0470e3ec14.jpg"></div></div></section><section data-id="b196f5b0bfb22cbaba1f8c3172532d2a"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 960px; height: 598px; left: 0px; top: 51px;" data-block-id="be1110529208453e41a26a48609c1706"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="1920" data-natural-height="1195" data-lazy-loaded="" data-src="socializing-with-fmt/39c1cd02a90c88eb76770af5a975bcfa.jpg"></div></div></section><section data-id="71496af09a2038734cabf8d53269dafd"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 960px; height: 638px; left: 0px; top: 31px;" data-block-id="e384b07b2854a9c11cdbde3775ddef50"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="1072" data-natural-height="712" data-lazy-loaded="" data-src="socializing-with-fmt/f89823fd97aa40963da5640001c58b8a.jpg"></div></div></section><section data-id="680f840c541126400dc7240671fcc27b"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 933px; height: 700px; left: 14px; top: 0px;" data-block-id="8f62c2b9513e45a211bfab23f28807ed"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="1800" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/b7523193fac51c9c5c1d5d7d2ce40052.jpg"></div></div></section></section><section data-id="816faf4aff10bf9809d3a7d3fc13c379"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="f39bfc8b25b6aa15d0986fd9809f1f66"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left; font-size: 200%;">
<p>Prelude</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 486px; height: 560px; left: 474px; top: 140px;" data-block-id="da237c29010640765feb9ddcc66e97d9"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="813" data-natural-height="937" data-lazy-loaded="" data-src="socializing-with-fmt/7e486008e88c79289eb1ec997128cba7.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 140px;" data-block-id="d7d216b1b0f27e8024bf35d3c73e0ec9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>My journey</p>

<p>to {fmt}</p>
</div></div></section><section class="stack" data-id="952aa7fe4263336031e9786154eda512"><section data-id="38eccd5a1bea715005cfaddd89fbef59"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 240px; top: 76px;" data-block-id="4e5e59a061f4517a7c7817a90105ead1"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<h1 style="text-align:center">The</h1>

<h1 style="text-align:center">status quo</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 160px; top: 630px;" data-block-id="3342c0ef9f58eaad5e508880af55364c"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;" data-fragment-index="0">
<p>*not the band in search of the fourth chord</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 350px;" data-block-id="d1f8116a8ecfea49822c1f800c80bd4b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>of formatting in current C++</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 240px; top: 76px;" data-block-id="d9b6a3dad026855d191eafcd7ec7b162"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;" data-fragment-index="0">
<h1>Â </h1>

<h1>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â  *</h1>
</div></div></section><section data-id="202be45aa9b58b628479343526d58d69"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 865px; left: 49px; top: 230px;" data-block-id="05001c10a2decf6cf631b14ec654df97"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<p><strong>sprintf</strong> from the <em>printf</em> function family in the C standard library</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="1b57f07b3445ab82000cb2b0908d8b53"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h1>Option 1</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 865px; height: 70px; left: 49px; top: 280px;" data-block-id="c567fe09667c48986731ebc40392f316"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 125%;"><pre class="cpp"><code style="padding: 0px;">
int n = sprintf(formatted_result, "value %d as hex is %02x", 42, 42);</code></pre></div></div>
<div class="sl-block" data-block-type="shape" style="min-width: 4px; min-height: 4px; width: 897px; height: 40px; left: 33px; top: 295px;" data-block-id="48011a3b6db53ea606d39a5078bc259b"><div class="sl-block-style" style="z-index: 14; opacity: 0.2;"><div class="sl-block-content fragment" data-shape-type="rect" data-shape-fill-color="rgb(255, 0, 0)" data-shape-stretch="true" style="z-index: 14;" data-fragment-index="0"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveaspectratio="none" viewbox="0 0 897 40"><rect width="897" height="40" class="shape-element" fill="rgb(255, 0, 0)"></rect></svg></div></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 81px; top: 393px;" data-block-id="41e4823d727a5be621e9bbff8268b808"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;">
<ul>
	<li class="fragment" data-fragment-index="0">every parameter and even the return type is unsafe</li>
	<li class="fragment" data-fragment-index="1">not extendable, works only with built-in types</li>
	<li class="fragment" data-fragment-index="2">compact format string</li>
	<li class="fragment" data-fragment-index="2">compilers learned to understand the formatting syntax and may prevent face-palm errors</li>
	<li class="fragment" data-fragment-index="2">typically highly optimized and really fast</li>
</ul>
</div></div></section><section data-id="174ef00742a2a65f215a4638022ea67b"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="bff29c8cf06e906c04992726bedce04c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Option 2</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 187px; left: 80px; top: 210px;" data-block-id="bb484970f9f12751ee96631d54f8b9a1"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;iomanip&gt;

std::ostringstream stream;
stream &lt;&lt; "value " &lt;&lt; 42 &lt;&lt; " as hex is " &lt;&lt; hex &lt;&lt; setw(2) &lt;&lt; 42;
const auto formatted_result = stream.str();
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 427px;" data-block-id="30e47d1c53252e4667dd6246a001a3be"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<ul>
	<li class="fragment" data-fragment-index="0">verbose, awkward syntax</li>
	<li class="fragment" data-fragment-index="0">fragmented format string and formatting specifications</li>
	<li class="fragment" data-fragment-index="0">OOP design, virtual functions, fewer optimization opportunities</li>
	<li class="fragment" data-fragment-index="1">stateful, no local reasoning</li>
	<li class="fragment" data-fragment-index="2">extendable</li>
	<li class="fragment" data-fragment-index="2">type-safe</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 168px;" data-block-id="8b425737ff7bc2180db9a01f464e4767"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p>IO streams from the C++ standard library</p>
</div></div></section><section data-id="47103ab4f323e7891b93a04ce5d4e81f"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="af3677c1be52deefb457eff870ab84fd"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Option 3</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 640px; left: 161px; top: 210px;" data-block-id="0844e4fba4bbf09e135f0ad4956f4dcf"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<p>Formatting libraries, for example Boost.Format</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 831px; height: 99px; left: 65px; top: 280px;" data-block-id="57880884597c68d0ab872dd852180b2e"><div class="sl-block-content notranslate" style="z-index: 13;"><pre class="cpp"><code>#include &lt;boost/format.hpp&gt;


auto formatted_result = str(boost::format("value %|1$| as hex is %|1$02x|") % 42);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 420px;" data-block-id="ac8d56e9cfb2262b9f0bd885cbc58a73"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<ul>
	<li class="fragment" data-fragment-index="0">type-safe</li>
	<li class="fragment" data-fragment-index="0">compact format string</li>
	<li class="fragment" data-fragment-index="0">extendable</li>
	<li class="fragment" data-fragment-index="0">many formatting options</li>
	<li class="fragment" data-fragment-index="0">reuse of arguments</li>
	<li class="fragment" data-fragment-index="1">slow at compile-time and run-time</li>
</ul>
</div></div></section><section data-id="60ea354c7e0c3320ffbb7cc49a39e898"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="e584aecb065e9f1836e012122fa408aa"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Option 4</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="a3d6d277dc4bff76025a7ed5f7db98b6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<p>C++ frameworks, for example Qt</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 99px; left: 80px; top: 280px;" data-block-id="cf8e7d308f1c4bdbda1442f4317c70f9"><div class="sl-block-content notranslate" style="z-index: 13;"><pre class="cpp"><code>#include &lt;QString&gt;

auto formatted_string = QString("value %1 as hex is %2").arg(42).arg(42, 2, 16)
                                                        .toStdString();</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 420px;" data-block-id="f3bdd6f24951b61b6c0709745f042e16"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<ul>
	<li class="fragment" data-fragment-index="0">type-safe</li>
	<li class="fragment" data-fragment-index="0">compact format string</li>
	<li class="fragment" data-fragment-index="1">somewhat verbose</li>
	<li class="fragment" data-fragment-index="2">not extendable</li>
	<li class="fragment" data-fragment-index="2">based on non-standard string type, requires conversion</li>
</ul>
</div></div></section></section><section data-id="d82af44669acd7feedc86f782491f3a1"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="32fcdbd3f4391bc6c5d15f9aad1118cb"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1><span style="font-size:1.2em">ðŸ˜ž</span></h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 181px; top: 280px;" data-block-id="2ebb263cea58d9bbe8d9e956ec6503d3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>So many options</h2>

<p>but</p>

<h2>none of them fulfilling at least the most basic expectations!</h2>
</div></div></section><section class="stack" data-id="1a415784c7a84f47c875304e359e2dfd"><section data-id="486113c590b4b7b27c6a7ffd955f9992"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="89b95dcf1326dac933fa2468db32489d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>The Problem</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 480px; left: 80px; top: 210px;" data-block-id="bc39ccacda5c8ef9a927615617a4306b"><div class="sl-block-style" style="z-index: 12;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">Some communication protocols of 3rd party equipment are text based and their throughput suffers from latencies</p>
</div></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 443px;" data-block-id="138a46fa59487c219b036fc91f0efa19"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Some communication protocols deliver data packets so rapidly that error logging may become a serious bottleneck</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 220px; height: 189px; left: 660px; top: 210px;" data-block-id="62232770672a471c04ecdeebad9b002d"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="400" data-natural-height="344" data-lazy-loaded="" data-src="socializing-with-fmt/ca91d8f3708a233010d638958c99a119.jpg"></div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 532px; height: 280px; left: 400px; top: 420px;" data-block-id="3136f92c7e24b3624c503b7c833cc29d"><div class="sl-block-content" style="z-index: 15;"><img style="" data-natural-width="1900" data-natural-height="1000" data-lazy-loaded="" data-src="socializing-with-fmt/188c1c626768473d8ea30e839127937a.jpg"></div></div></section><section data-id="a3438abf64cc408917f25878432bf51b"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="94c82456a499712bbce111fe9b508523"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>The Objectives</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="207237cf8c99e4086bf23233ca3136dd"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;" data-fragment-index="0">
<p>Never block a thread or an ASIO callback because of</p>

<ul>
	<li class="fragment" data-fragment-index="1">taking a mutex (possibly hidden within an innocent-looking call)</li>
	<li class="fragment" data-fragment-index="2">hogging the CPU because of inadequate algorithms before issuing the next IO</li>
</ul>

<p>Â </p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 490px;" data-block-id="ad9cba042dc48966a535b65612cd19e3"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" data-fragment-index="3">
<p>Which boils down to</p>

<ul>
	<li class="fragment" data-fragment-index="4">Do not allocate in text formatting</li>
	<li class="fragment" data-fragment-index="5">Format as fast as you can</li>
</ul>
</div></div></section></section><section data-id="18eea0740040b31845785451d00c83d1"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="5588cdf63bc3d3a5d298676fcdeb7938"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1 style="text-align:left">LookING out for the one library ...</h1>

<h1>... that gives us Torn Souls hope</h1>

<h1 style="text-align:right">... And rules them all</h1>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 560px; height: 280px; left: 200px; top: 420px;" data-block-id="a7737732c7c6c97160eeae15e9dd4dbe"><div class="sl-block-content fragment" style="z-index: 12;" data-fragment-index="0"><img style="" data-natural-width="800" data-natural-height="400" data-lazy-loaded="" data-src="socializing-with-fmt/d9ed2335e93b45603ec6d76cad3d1395.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 120px; left: 800px; top: 664px;" data-block-id="bb3c13c2534e839855cb58a94bf53874"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 22%; text-align: left;" data-fragment-index="0">
<p>https://devrant.com/users/JeDaYoshi</p>
</div></div></section><section class="stack" data-id="c98245344db33e4d2a82c55250d67466"><section data-id="ed169c3bd675d94d9231dbc09e1111bf"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 560px; height: 582px; left: 400px; top: 118px;" data-block-id="774698f62c739deaac964aba5248f6bb"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="1299" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/3e7eee8c15cf4b3824996644e7288766.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="13cd1c1e5f31a1eee2b74e7d23ad16d5"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 200%; text-align: left;">
<p>Enter {fmt}</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 300px; left: 80px; top: 140px;" data-block-id="474aa078da32dc79ca165f5fec3184c3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>The new kid on the block</p>

<p>inspired by Python</p>
</div></div></section><section data-id="8625e3a0ba58f0ff8ac4b76a1e3cff36"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="06a31f871e083aa0b676ff40d4575c2f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>History of {fmt}</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="ad0d29b912050ba2c97dba643f7b58c9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;" dir="ui">
<ul>
	<li>started in 2012 by Victor Zverovich</li>
	<li>designed with performance, ease-of-use, and extendability in mind</li>
	<li>original name 'cppformat'</li>
	<li>later renamed to {fmt} alluding to it's format syntax</li>
	<li>up to version 4.x requiring only C++03</li>
	<li>beginning with version 5.x requiring a modest subset of C++11 which is available from all major compilers of the last 5 years</li>
	<li>BSD license</li>
	<li>in active development, currently 120 contributors</li>
</ul>
</div></div></section></section><section data-id="14849c4da39bc1fa6f683ed3dcba5963"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="95c9d8b88753e786901c1dfe85455785"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Overview</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="24fd0fc71afcf205dc9f44f9a298a829"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; line-height: 1.95;" data-has-line-height="">
<ul>
	<li>{fmt} 101</li>
	<li>{fmt} under the hood</li>
	<li>{fmt} all the things!</li>
	<li>{fmt} all the strings!</li>
	<li>{fmt} it's about time!</li>
	<li>{fmt} in all languages!</li>
	<li>{fmt} the future</li>
</ul>
</div></div></section><section data-id="50274d65e40500898e3bc791afc9e39f"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="5161b0562a94b4dcea46ad1dacbc631c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 200%; text-align: left;">
<p>{fmt} 101</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 140px;" data-block-id="5270770cae2d704ceadbc2bc031d1ca4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left; font-size: 150%;">
<p style="text-align:left">functions</p>

<p style="text-align:left">formatting syntax</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 477px; height: 560px; left: 483px; top: 140px;" data-block-id="64c0b7b64901a6bc59ece11b8dbb3861"><div class="sl-block-content" style="z-index: 13;"><img style="" data-natural-width="1149" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/65314fffdd88040326387f7c9376764c.jpg"></div></div></section><section class="stack" data-id="dbfec333335fcb1abcd694ae71364947"><section data-id="29fc74f1f4969054cbb0fd9f603dce32"><div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 162px; left: 80px; top: 200px;" data-block-id="d554810d79a07651b4b3d2df4f64bc08"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

using namespace fmt;

template &lt;typename String, typename... Args&gt;
auto format(const String &amp; format_str, const Args &amp;... args);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;" data-block-id="6e8fcfcc1318ec322eedd38dfe88b5e5"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<h1>The most basic function</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 43px; left: 80px; top: 420px;" data-block-id="eba91320fca64a759964568c9b0c22f5"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">auto str = format("The answer is {}", 42);</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 44px; left: 80px; top: 586px;" data-block-id="a9f9978fb7221060a5248c7bcc6f6ae9"><div class="sl-block-content notranslate" style="z-index: 14; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">std::string str("The answer is 42");</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 505px;" data-block-id="252cc9ad4d5239447b4efc69f9a4db89"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;">
<p>produces result</p>
</div></div></section><section data-id="43fa7a94ce76093d31f59cdfe57d7595"><div class="sl-block" data-block-type="code" style="width: 800px; height: 127px; left: 80px; top: 210px;" data-block-id="bd71158e96f3aa60ec13e3e775162b48"><div class="sl-block-content notranslate" style="z-index: 10; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args&gt;
auto format(const String &amp; format_str, const Args &amp;... args);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 70px;" data-block-id="6b6549a3a34ef6885efb1f9729151992"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: center;">
<h2>The most basic function</h2>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 381px;" data-block-id="88a106e63f05ee8abc13c3a5b0987bf7"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>The 'format_str' argument determines the internally used character type:</p>

<ul>
	<li>the type of template parameter <em>String</em> is deduced from the argument as 'const <span style="color:#FFD700">char</span>[17]'</li>
	<li>therefore <span style="color:#FFFF00"><strong>format</strong></span> is formatting in terms of <span style="color:#FFD700">char</span> code units</li>
	<li>and produces a 'std::basic_string&lt;<span style="color:#FFD700">char</span>&gt;'</li>
</ul>
</div></div></section><section data-id="4d2698038b2c6855c09e66e0c7dce683"><div class="sl-block" data-block-type="code" style="width: 800px; height: 127px; left: 80px; top: 192px;" data-block-id="626e160c2ef6aa08d8f8c4321b69bba3"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args&gt;
auto format(const String &amp; format_str, const Args &amp;... args);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 70px;" data-block-id="09be8f03146233d080eed98332315a34"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<h2>The most basic function</h2>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 400px; left: 80px; top: 350px;" data-block-id="4525f8b42cad10eebd68654db38c4929"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" dir="ui">
<p><strong>any</strong> character type will do</p>

<ul>
	<li>char</li>
	<li>wchar_t</li>
	<li>char16_t</li>
	<li>char32_t</li>
	<li>my_type</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 423px; left: 480px; top: 350px;" data-block-id="f8d33c32ccc7c308904ce238a883749b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" dir="ui">
<p>producing:</p>

<ul>
	<li>std::string</li>
	<li>std::wstring</li>
	<li>std::u16string</li>
	<li>std::u32string</li>
	<li>std::basic_string&lt;my_type&gt;</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 622px;" data-block-id="1d4abbfd8ed6127c0ea6ecc7c64d316b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; text-align: left;">
<p>as long as there exists a matching specialization of std::char_traits.</p>
</div></div></section><section data-id="fb9859c397c8e22d110c07cd50679f5f"><div class="sl-block" data-block-type="code" style="width: 800px; height: 127px; left: 80px; top: 192px;" data-block-id="11f62ebcb1468fdb22645f638f919672"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args&gt;
auto format(const String &amp; format_str, const Args &amp;... args);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 70px;" data-block-id="be01dac4bb45c592915cb19c5a906623"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<h2>The most basic function</h2>
</div></div>



<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 350px;" data-block-id="43dd1038590ac2126a2cc37077e36ac9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>Numeric formatting uses the 'std::numpunct&lt;Char&gt;' facet for localized formatting.</p>

<p>Be beware of the fact that the standard library is not required to supply numeric formatting facets for use with character types other than char and wchar_t!</p>

<p>Â </p>
</div></div></section><section data-id="79e97c3668485a5649b7c9971f3502aa"><div class="sl-block" data-block-type="code" style="width: 800px; height: 127px; left: 80px; top: 192px;" data-block-id="4519fcc29e031094226dc318bfca10a0"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 125%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args&gt;
auto format(const String &amp; format_str, const Args &amp;... args);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 70px;" data-block-id="5567840739f730fa80fbea2caf153290"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<h2>The most basic function</h2>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 350px;" data-block-id="99a3f948a31c8ece332b9986b17c1225"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>The underlying character types of all strings or string-like <em>Args</em> amongst the formatting arguments 'args' <strong>must</strong> match the character type deduced from the format string 'format_str'.</p>

<p>Â </p>

<p>Violating this requirement will cause a compilation failure.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;" data-block-id="ca57d0dcf82ca33bda357afab83dba31"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="0">
<p>The generated error message can possibly be improved...</p>
</div></div></section></section><section class="stack" data-id="c47da846afd265058cc58ba7ee7b0bb7"><section data-id="9b68ea5234014f2852b446591a0f2523"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="dc51890eb41130498c5f39296f8b66b8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h1>formatting into a container</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 135px; left: 80px; top: 270px;" data-block-id="d95e27dd37149a03c7b0535f88418a3f"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename OutputIt, typename String, typename... Args&gt;
OutputIt format_to(OutputIt it, const Sring &amp; format_str,
                   const Args &amp;... args);
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 420px;" data-block-id="fabb04c085d441b4a03fc0ffe7c7492f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>Takes any iterator type that models the <em>OutputIterator </em>concept and refers to a <strong>contiguous</strong> container, e.g.</p>

<ul>
	<li>pointers to non-const characters</li>
	<li>non-const iterators returned by containers</li>
	<li>back_insert_iterators</li>
</ul>

<p>The returned iterator refers to the next write position.</p>
</div></div></section><section data-id="6c7122a7a2aa9e89c0bb8f829ff13e06"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="3045f528c7a3c1acd0b9fe45cbc693f5"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h2>formatting into a container</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 119px; left: 80px; top: 210px;" data-block-id="9743abe0c49e945144a8d0b1d140f4be"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

vector&lt;wchar_t&gt; result;
format_to(back_inserter(result), L"{}", 42);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 350px;" data-block-id="2dacbdc5d0ea023b2dfc02afb270b8fa"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>This produces a vector of size() == 2 with elements L'4' and '2'<br>
Â </p>

<ul>
	<li>you may want to reserve enough capacity beforehand to avoid repeated allocations<br>
	Â </li>
	<li>you may find it advantageous to hang on to a container and reuse it as a dynamically sized formatting cache</li>
</ul>
</div></div></section></section><section class="stack" data-id="e99084019b51b85a06afecfa53242438"><section data-id="f8b71d5a5db6741c0d9b8bb4c2c5f587"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e4c7b3f85a8edd7e5fbd86ae3181129e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: center;">
<h1>control the maximum formatted length</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 278px; left: 80px; top: 270px;" data-block-id="eaf86ce268741651a762bc14acbb13ba"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename OutputIt, typename String, typename... Args&gt;
auto format_to(OutputIt it, size_t size, const Sring &amp; format_str,
               const Args &amp;... args);

template &lt;typename OutputIt&gt;
struct format_to_n_result {
  OutputIt out;
  size_t   size;
};</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 560px;" data-block-id="f8a0f3964ca059add2f88ccbb23a2a78"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>As before, the returned iterator 'out' refers to the next write position.</p>

<p>Please note: the 'size' member reports the <strong>untruncated</strong> size!</p>
</div></div></section><section data-id="a85e462d7e3ec24567fb54c264d79424"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="b65c815e4b23e173a9bd45f24b2fb2e0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h2>control the maximum formatted length</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 137px; left: 80px; top: 228px;" data-block-id="1a5787d26402e1125b5a4d434662fba6"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

u16string result;
auto info = format_to_n(back_inserter(result), result.capacity(),
                        u"{}", 42);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 388px;" data-block-id="7126d64d4c694afe675a527770e5e6f6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>This produces an u16string result(u"42") as long as the formatted result is no longer than the allocated capacity (e.g. 7 in this case on 64 bit, VS2017 with SSO).</p>
</div></div></section><section data-id="62d706ea563b58ee84f38337ca17f088"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="ea30e841500a1528b8316b12329bc812"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h2>control the maximum formatted length</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 137px; left: 80px; top: 270px;" data-block-id="1d15b7e1781eea3cc396a34f0a32fe18"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

u16string result;
auto info = format_to_n(back_inserter(result), result.capacity(),
                        u"{}", 42987654321);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 420px;" data-block-id="538089f1b00ce24048dc20479d65ce26"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>The formatted result might be u"4298765" (again, 64 bit VS2017).</p>

<p>The 'size' member of the returned value 'info' contains the untruncated size 11 which denotes the actual capacity required to prevent truncation.</p>
</div></div></section></section><section class="stack" data-id="8003d2e9f65d8d162571dc5aeb700602"><section data-id="f1128b913165cb9f9a77d53533f6d38f"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="8eda547f1ca9845e1f3e4a730fac2790"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h1>No Allocations</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 280px; left: 80px; top: 210px;" data-block-id="678dfce534c173253a0c47673e46518c"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args,
          size_t SIZE, typename Char&gt;
auto format_to(basic_memory_buffer&lt;Char, SIZE&gt; &amp; buffer,
               const String &amp; format_str, const Args &amp;... args);

template &lt;typename Char, size_t SIZE = inline_buffer_size,
          typename Allocator = allocator&lt;T&gt;&gt;
class basic_memory_buffer;</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 521px;" data-block-id="748185a77abc8e66399fd5a727577964"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>'fmt::basic_memory_buffer' is a simple container with 'SIZE' Chars worth of inline space (i.e. on the stack) and dynamic overflow capacity allocated from the heap. <span style="color:#FFFF00"><strong>format_to</strong></span> returns an output iterator into the given buffer.</p>
</div></div></section><section data-id="329ca1e1da04859727a557afce791249"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="1d5d77dbbcfe75750b20a54646411816"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: center;">
<h2>No Allocations</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 140px; left: 80px; top: 210px;" data-block-id="7d4475cd87388445145c9990d0f21ef6"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

basic_memory_buffer&lt;char, 100&gt; buffer;
format_to(buffer, "{}", 42);
string result = to_string(buffer);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 412px;" data-block-id="f70d06f7722ba8dc6fd72d0cd54b4f59"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<ul>
	<li>you have full control over the amount of inline capacity</li>
	<li>you may chain multiple formatting calls into this buffer</li>
	<li>you may use such buffers as arguments to other calls to <span style="color:#FFFF00"><strong>format</strong></span> or variants thereof</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 603px;" data-block-id="6801423c8e4239aa5c42687ed8b2a00e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p><span style="font-size:1.4em">and all of this without any heap allocations!</span></p>
</div></div></section></section><section class="stack" data-id="4930a8f435e1b0131642659ba45771d1"><section data-id="a5b6d28316ebd808653bf8d0ee2d8887"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="24ee6d8e900e09b3e66ce944f0f6661e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h1>User-defined Literals</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 123px; left: 80px; top: 210px;" data-block-id="661f31815b1e52345368a1dab29c67f1"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

fmt::literals::operator""_format(const char *s, size_t);
fmt::literals::operator""_format(const wchar_t *s, size_t);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 366px;" data-block-id="4f90e0554851aba722b3e33cd31cd130"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>These UDLs allow you to write</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 97px; left: 80px; top: 442px;" data-block-id="f58979824b18607364c1075c06bb9ed3"><div class="sl-block-content notranslate" style="z-index: 14; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">using namespace fmt::literals;

wstring message = L"The answer is {}"_format(42);</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 45px; left: 80px; top: 630px;" data-block-id="a5d9b4bdc964d714091d54350c12031c"><div class="sl-block-content notranslate" style="z-index: 15; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">wstring message = format(L"The answer is {}", 42);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 560px;" data-block-id="7d6ceb7a2ba260b9b8765908224f7113"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; text-align: left;">
<p>instead of</p>
</div></div></section><section data-id="2af480fc86a767b6dd918be6eb6c97b9"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="537028959fa6940faa6972890739de34"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h2>User-defined Literals</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 123px; left: 80px; top: 210px;" data-block-id="83f3cb8de41030f03c192048118615dc"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

fmt::literals::operator""_a(const char *s, size_t);
fmt::literals::operator""_a(const wchar_t *s, size_t);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 366px;" data-block-id="e743206d822e4dd15b4d4df5eabfd073"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>These UDLs attach a name to an argument.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 97px; left: 80px; top: 442px;" data-block-id="77d7c3c117a59bded92fb86aa5a7a5a7"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">using namespace fmt::literals;

format("The answer is {the_answer}", "the_answer"_a = 42);</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 45px; left: 80px; top: 630px;" data-block-id="a89eaa9282384b96b08250508b1cd7b3"><div class="sl-block-content notranslate" style="z-index: 14; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">format(L"The answer is {the_answer}", arg("the_answer", 42));</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 560px;" data-block-id="43dc23ec68009ec530eb6ef2d53ead59"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;">
<p>is probably less clumsy than</p>
</div></div></section><section data-id="64f6bd32253b68c55d73fecea9ab5c4b"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="2662dd85ef73d30bef5bcf8ea6b531d9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: center;">
<h2>User-defined Literals</h2>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="d2c95e797f142d277356aed1e55b0c22"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<ul>
	<li>Named arguments help preventing developers from losing track of which argument goes into which replacement field.</li>
	<li>Named arguments may improve the quality of string translation because the translator sees the whole context and intent.</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 490px;" data-block-id="7726d9ec36f6305ebc55af935b75e8a0"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" data-fragment-index="0">
<p>More on named arguments in just a few slides...</p>
</div></div></section></section><section class="stack" data-id="e130e5013d395fa1ba2a69877d4b1a6a"><section data-id="2d5079dc3744e65cb3a0663ce14c8ce7"><div class="sl-block" data-block-type="text" style="height: auto; width: 675px; left: 143px; top: 70px;" data-block-id="e5c1f580df638e14183aac869fdb1a72"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;" dir="ui">
<h1>compile-time format-strings</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 116px; left: 80px; top: 210px;" data-block-id="c8cab4851071240a04a20e527158653b"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#define FMT_STRING_ALIAS 1
#include &lt;fmt/format.h&gt;

string result = format(fmt("The answer is {:d}"), "42");</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 81px; top: 350px;" data-block-id="af80e4f98fd3db681cef5970523a4154"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left; border-width: 1px;">
<p>A compile-time format string allows checking both the syntax of the format string and the correct types of the arguments <em>at compile time</em>.</p>

<p>This applies to user-defined formatters too, as long as they are properly 'constexpr'-qualified.</p>

<p>The example above will not compile because the replacement field asks for a numerical argument, but there's a string supplied instead.</p>
</div></div></section><section data-id="c7875a3c4f7010a11a6c3026940a9d8c"><div class="sl-block" data-block-type="text" style="height: auto; width: 675px; left: 143px; top: 70px;" data-block-id="dc4584927be11f801ff067e7b237707a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;" dir="ui">
<h2>compile-time format-strings</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 116px; left: 80px; top: 210px;" data-block-id="cf0870541f812f9d37bd43dd091f103e"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#define FMT_STRING_ALIAS 1
#include &lt;fmt/format.h&gt;

string result = format(fmt("The answer is {:d}"), "42");</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 351px;" data-block-id="8ba6c585d6e7b6028fbc649cc2e921fb"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Defining FMT_STRING_ALIAS to 1 before the inclusion of 'format.h' makes the macro <span style="color:#FFFF00">fmt</span> available to easily define compile-time format strings the same way on all compilers. This feature requires C++14 relaxed constexpr support from the compiler!</p>

<p>Obviously, compile-time checking precludes runtime translation of the format string.</p>
</div></div></section></section><section data-id="38393d51673bab488970d935525ce6c4"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="3eb99404ac99a88d7cec17044be8fe2d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10; text-align: center;">
<h1>other targets</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 80px; top: 210px;" data-block-id="29bd676efb6e623ca893a69cc1dc9a6d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>printing to the console</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 80px; top: 490px;" data-block-id="1ea0da8b4218428a36e42a0bd0e96385"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>printing to a file stream</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 140px; left: 80px; top: 280px;" data-block-id="ff1f9b18df9b50326ce9ccec9aa4f2c8"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args&gt;
void print(const String &amp; format_str, const Args &amp;... args);</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 140px; left: 80px; top: 560px;" data-block-id="992697eafc1429b40c8038bc906924b9"><div class="sl-block-content notranslate" style="z-index: 15; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

template &lt;typename String, typename... Args&gt;
void print(FILE * f, const String &amp; format_str,
           const Args &amp;... args);</code></pre></div></div></section><section class="stack" data-id="787d85489fa63f0eb5901100034ec25d"><section data-id="138ed361d6cdc00e118d9d9739139d61"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="42476832b82301fbbbc0b4fe2704001b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>A different world</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 331px;" data-block-id="a00f4a727c68f5685f214c9271712b19"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;"><p>Text</p></div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 379px; left: 80px; top: 321px;" data-block-id="d658cb6ffee44dbd9db387098eb6c693"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/printf.h&gt;

template &lt;typename String, typename... Args&gt;
auto sprintf(const String &amp; format_str, const Args &amp;... args);

template &lt;typename String, typename... Args&gt;
int printf(const String &amp; format_str, const Args &amp;... args);

template &lt;typename String, typename... Args&gt;
int fprintf(FILE * file, const String &amp; format_str,
            const Args &amp;... args);

template &lt;typename String, typename... Args&gt;
int fprintf(basic_ostream&lt;char-type-of-String&gt; &amp; stream,
            const String &amp; format_str, const Args &amp;... args);
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="b9c5f8ea82248505d3bab8d5c437dd11"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>Including 'fmt/printf.h' makes POSIX compatible formatting available.</p>
</div></div></section><section data-id="a7ef1aa39a5363ebc8b7b5bb59346e00"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="50c5fd1edab411095cd0fa5e245938b4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>A different world</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 169px; left: 80px; top: 156px;" data-block-id="01f493cc1225c38523c9759d1d234758"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/printf.h&gt;

auto sprintf();
int printf();
int fprintf(FILE * file);
int fprintf(basic_ostream&lt;char-type-of-String&gt; &amp; stream);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 350px;" data-block-id="fb6949063862f8ccfd75a186e78b77c3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>are still type-safe and equivalent to</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 169px; left: 80px; top: 420px;" data-block-id="cac534b6876f0d5e844d065d241d0d14"><div class="sl-block-content notranslate" style="z-index: 14; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/format.h&gt;

auto format();
int print();
int print(FILE * file);
basic_ostream&lt;char-type-of-String&gt; &lt;&lt; format();</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 622px;" data-block-id="a00f8c7fe789f7527bb2053a954f2d12"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;">
<p>but with extended POSIX format sprecification syntax instead of the native {fmt} syntax</p>
</div></div></section></section><section class="stack" data-id="d08f14bb910dd6d6bdd3ff60d718f839"><section data-id="18aa66f5c1b927be92757ae68a132526"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="7e4616fc9aae2f6806ce94cfefde1b4c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>Formatting syntax</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="10aca2256ea0c001e0de90dded54ab65"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>A format string is an alternating sequence of</p>

<ul>
	<li>literal text fields</li>
	<li>
<span style="color:#00FFFF">replacement fields</span> surrounded by a pair of curly braces <span style="color:#FFFF00">{}</span>
</li>
</ul>

<p>Â </p>

<p>Every field may be empty!</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 640px; left: 160px; top: 477px;" data-block-id="b886d2ba57d462bb839bd69996a3d70a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; background-color: rgb(23, 46, 12); text-align: center;">
<p>valid</p>

<pre>" bla <span style="color:#FFFF00">{}</span> bla <span style="color:#FFFF00">{</span><span style="color:#00FFFF">r1</span><span style="color:#FFFF00">}{</span><span style="color:#00FFFF">r2</span><span style="color:#FFFF00">}</span> {{<span style="color:#FFFF00">{</span><span style="color:#00FFFF">r3</span><span style="color:#FFFF00">}</span>}}"</pre>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 640px; left: 160px; top: 617px;" data-block-id="96c2f4549baf628f3e03ef3b0c33eff4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; background-color: rgb(46, 12, 17); text-align: center;">
<p>invalid</p>

<pre>" bla <span style="color:#FFFF00">{}</span> bla <span style="color:#FFFF00">{</span><span style="color:#00FFFF">r1</span><span style="color:#FFFF00">}{</span><span style="color:#00FFFF">r2</span><span style="color:#FFFF00">}</span> <span style="color:#FFFF00">{</span><span style="color:#00FFFF">r3</span><span style="color:#FFFF00">}</span><span style="color:#00FFFF">}</span>"</pre>
</div></div></section><section data-id="9c0b9c69238accd1319bf990e770d91a"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="1f33e658691cb6deab5aa19fa1c3c8bd"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Formatting syntax</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="840b9a4309b76b24a3574f7bde23f24c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Literal text fields are copied verbatim to the output.</p>

<p>Replacement fields consist of two parts, which are separated by a colon ' <span style="color:#AFEEEE">:</span> ' character</p>

<ul>
	<li>an <span style="color:#FFA500">argument identifier</span>
</li>
	<li>a <span style="color:#EE82EE">formatting specification</span>
</li>
</ul>

<p>Each part may be empty. The colon is required only when the formatting specification is not empty.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 832px; left: 64px; top: 560px;" data-block-id="f6014c120b419255b41bfceb668ba742"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center;">
<pre><span style="color:#FFFF00">{</span><span style="color:#FF8C00">argument identifier</span><span style="color:#00FFFF">:</span><span style="color:#EE82EE">formatting specification</span><span style="color:#FFFF00">}</span></pre>
</div></div></section><section data-id="8901a363e5652a92405d9f3022f207ed"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e480fe1814e64b858511b40c9f3c698c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Formatting syntax</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 832px; left: 80px; top: 223px;" data-block-id="e2efffb389b0b6ff1e9cb051b9a7f0fa"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: center;">
<pre><span style="color:#FFFF00">{</span><span style="color:#FFFF00">}           </span>default-formatted next argument</pre>

<pre><span style="color:#FFFF00">{</span><span style="color:#00FFFF">:</span><span style="color:#FFFF00">}</span>         as above, colon is optional here</pre>

<pre><span style="color:#FFFF00">{</span><span style="color:#FF8C00">0</span><span style="color:#FFFF00">}</span>        first argument, default-formatted</pre>

<pre><span style="color:#FFFF00">{</span><span style="color:#FF8C00">name</span><span style="color:#FFFF00">}</span>    argument "name", default-formatted</pre>

<pre><span style="color:#FFFF00">{</span><span style="color:#00FFFF">:</span><span style="color:#EE82EE">&lt;5X</span><span style="color:#FFFF00">}</span>  next argument formatted as specified</pre>

<pre><span style="color:#FFFF00">{</span><span style="color:#FF8C00">2</span><span style="color:#00FFFF">:</span><span style="color:#EE82EE">#</span><span style="color:#FFFF00">}</span> second argument formatted as specified</pre>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 171px;" data-block-id="0e4a2dff9ca7f70035e6cce17ccebb20"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>valid:</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 832px; left: 80px; top: 590px;" data-block-id="0e606fae26995d3bcbcd6413c915ec79"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: center;">
<pre><span style="color:#FFFF00">{</span><span style="color:#EE82EE">#</span><span style="color:#00FFFF">:</span><span style="color:#FFFF00">}</span>             invalid argument identifier</pre>

<pre><span style="color:#FFFF00">{</span>&lt;5x<span style="color:#FFFF00">}</span>                   the colon is missing</pre>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 521px;" data-block-id="d71ce31dc0c90d2ae56b4814e2d0a372"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;">
<p>invalid:</p>
</div></div></section></section><section class="stack" data-id="522846712007ed2aaddd41bf316315c5"><section data-id="25c5cd76d094aae93944d31300f21e27"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="54ba85bf9f6ac9bb6c207d75041241ce"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>argument IDENTIFIERS</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="89332839acc0de63fd64e62aac85b008"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Formatting arguments are associated with a replacement field either by</p>

<ul>
	<li>position, i.e "indexed" argument</li>
	<li>name, i.e. "named" argument</li>
</ul>

<p>Therefore, each argument may be referenced as many times as you like.</p>

<p>Indexed argument references are a little bit more efficient compared to named argument references because the latter require building an internal dictionary and argument name lookup. In the current implementation, the dictionary is allocated on the default heap.</p>
</div></div></section><section data-id="3fa9a3fda20fac700aaa1adba8909559"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e17265319950bf585f4a75dc7af6dd64"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>argument IDENTIFIERS</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="a2f34eefd2eca97771d48b1576ace03a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Argument identifiers follow the standard naming C++ rules as you would expect</p>

<ul>
	<li>numeric positional indices start with number 0, referring to the first argument</li>
	<li>valid names used in named argument identifiers are also valid C++ identifiers (and vice versa) with the one exception that only characters from the 7-bit ASCII character set are allowed (C++ allows almost all Unicode characters in identifiers)</li>
</ul>
</div></div></section><section data-id="bdc00d06defd473c55c9741de8e7730b"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="0327d9874d420dc83472f16415753c2c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>argument IDENTIFIERS</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 174px;" data-block-id="77ddb980a1cf74176f2105e06460f654"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;" dir="ui">
<p>The index used for indexed argument references is by default maintained internally by a counter (automatic indexing). Which means the first replacement field references the first argument, the second field the second argument, an so on.</p>

<p>Automatic indexing is valid only if <strong>all</strong> replacement fields use automatically generated references. Mixing modes is an error.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 218px; left: 80px; top: 482px;" data-block-id="7d3a6f3fa00e4d1f0d7d75afa0c388d9"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code>// valid

result = format("{}", "a"_a=42);       // automatic indexing
result = format("{0}{a}", "a"_a=42);   // positional indexing

//invalid

result = format("{}{0}{a}", "a"_a=42); // mixed indexing</code></pre></div></div></section></section><section class="stack" data-id="da6a4752b9f606feb747f2a32bb026cb"><section data-id="53de711b6f66765194260c4ceb03c4ed"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="f57c3184eff3f8b3d32f0ba8591db3db"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Formatting specification</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 913px; left: 24px; top: 230px;" data-block-id="069c4499bebdb2d767d47ad086f7baac"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The formatting specification language used <span style="color:#00FF00">by default</span> for all of the <span style="color:#00FF00">built-in types</span>, <span style="color:#00FF00">pointers</span>, and <span style="color:#00FF00">strings</span> is pretty much what you would expect and what you are already familiar with from 'printf' formatting:</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 913px; left: 24px; top: 376px;" data-block-id="9bdbd0fa35ce71aafeeb5cc2f5bebddf"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<pre><span style="font-size:0.7em"><strong>formatspec</strong> ::= [[<a href="http://fmtlib.net/dev/syntax.html#grammar-token-fill" target="_blank"><span class="pre">fill</span></a>]<a href="http://fmtlib.net/dev/syntax.html#grammar-token-align" target="_blank"><span class="pre">align</span></a>][<a href="http://fmtlib.net/dev/syntax.html#grammar-token-sign" target="_blank"><span class="pre">sign</span></a>]["#"]["0"][<a href="http://fmtlib.net/dev/syntax.html#grammar-token-width" target="_blank"><span class="pre">width</span></a>]["." <a href="http://fmtlib.net/dev/syntax.html#grammar-token-precision" target="_blank"><span class="pre">precision</span></a>][<a href="http://fmtlib.net/dev/syntax.html#grammar-token-type" target="_blank"><span class="pre">type</span></a>]
<strong>fill</strong>       ::= a single character other than '{', '}' or '\0'
<strong>align</strong>      ::= "&lt;" | "&gt;" | "=" | "^"
<strong>sign</strong>       ::= "+" | "-" | " "
<strong>width</strong>      ::= <a href="http://fmtlib.net/dev/syntax.html#grammar-token-integer" target="_blank"><span class="pre">integer</span></a> | "{" <a href="http://fmtlib.net/dev/syntax.html#grammar-token-arg_id" target="_blank"><span class="pre">argument identifier</span></a> "}"
<strong>precision</strong>  ::= <a href="http://fmtlib.net/dev/syntax.html#grammar-token-integer" target="_blank"><span class="pre">integer</span></a> | "{" <a href="http://fmtlib.net/dev/syntax.html#grammar-token-arg_id" target="_blank"><span class="pre">argument identifier</span></a> "}"
<strong>type</strong>       ::= <a href="http://fmtlib.net/dev/syntax.html#grammar-token-int_type" target="_blank"><span class="pre">inttype</span></a> | "a" | "A" | "c" | "e" | "E" | "f" | "F"   
                         | "g" | "G" | "p" | "s"
<strong>inttype</strong>    ::= "b" | "B" | "d" | "n" | "o" | "x" | "X"</span></pre>
</div></div></section><section data-id="51373ee1fbc245032edff1a257c502cf"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="91cd6185a2602c67638d2b3cfaa20d50"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Formatting specification</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 209px;" data-block-id="ede989c4fa581de15abf7c753d1d9a2d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Please note the emphasis on 'by default' and on the list of type to which this formatting language applies!</p>

<p>As a rule of thumb you may assume that every aspect of formatting can be customized in some way:</p>

<ul>
	<li>the interpretation of the parsed formatting specification elements for use with the built-in types may be customized and put into a new ruleset</li>
	<li>a completely different formatting language may be applied. An example is using the extended POSIX language by including <strong>printf.h</strong> instead of <strong>format.h</strong>
</li>
	<li>other types beyond the built-in ones may have custom formatters using a custom formatting language</li>
</ul>
</div></div></section></section><section data-id="1b8fdf90028c457dac8b376bc3b8ecd9"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 560px; left: 80px; top: 0px;" data-block-id="d9ec38575de952ae6c73cf7b32e4daea"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 200%;">
<p style="text-align: left;">{fmt} under the hood</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 553px; height: 560px; left: 407px; top: 140px;" data-block-id="fe4f2e02dc3205552605208983f1d0fe"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="1332" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/05adbd6a26fbe3396db50866c237bf69.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 280px; left: 80px; top: 140px;" data-block-id="3a3ee4220305da26fb784d22b1ff277e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>the engine</p>

<p>replaceable parts</p>
</div></div></section><section data-id="74de20881868cf4d88003683c37de1eb"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 720px; left: 240px; top: 192px;" data-block-id="48614f4ee789097fb3ee9f66de2f3359"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; border-style: solid; border-width: 1px; border-color: rgb(0, 0, 255); background-color: rgb(217, 234, 211); color: rgb(0, 0, 0);">
<p>type-aware outer interface</p>

<p>format(String, Args...) Â  Â  Â  Â  Â  Â  Â  Â  Â Â  format_arg_store(Args...)</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 720px; left: 240px; top: 332px;" data-block-id="35b4d883997c716f3ed2515c912ef3c8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; border-style: solid; border-width: 1px; border-color: rgb(0, 0, 255); background-color: rgb(208, 224, 227); color: rgb(0, 0, 0);">
<p>type-erased, context-aware inner interface</p>

<p>vformat(basic_string_view, ...) Â  Â  Â  Â  Â  basic_format_args(...)</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 720px; left: 240px; top: 472px;" data-block-id="96804be53051e0d87261420147beb769"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; border-style: solid; border-width: 1px; border-color: rgb(0, 0, 255); background-color: rgb(234, 209, 220); color: rgb(0, 0, 0);">
<p>formatting</p>

<p>engine</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 640px; top: 612px;" data-block-id="9bc81e76eb89d8ef9e0a3ff2f047b30d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; border-style: solid; border-width: 1px; border-color: rgb(0, 0, 255); background-color: rgb(217, 210, 233); color: rgb(0, 0, 0);">
<p>user-defined</p>

<p>formatters</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 240px; top: 612px;" data-block-id="cac06c00c4cb786ea81f8d2a1b8715c5"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; border-style: solid; border-width: 1px; border-color: rgb(0, 0, 255); background-color: rgb(252, 229, 205); color: rgb(0, 0, 0);">
<p>built-in</p>

<p>formatters</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 508px; left: -160px; top: 379px;" data-block-id="c5226af506b1e7a067b357bf689db292"><div class="sl-block-style" style="z-index: 16; transform: rotate(270deg);"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; border-style: solid; border-width: 1px; background-color: rgb(255, 242, 204); color: rgb(0, 0, 0);">
<p>Â </p>

<p>Context</p>

<p>Â </p>
</div></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 400px; top: 280px;" data-block-id="3deb6a5da3ba8dac64db7df707eaa5e2"><div class="sl-block-content" data-line-x1="93" data-line-y1="4" data-line-x2="93" data-line-y2="56" data-line-color="#ff0000" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 17;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="52" viewbox="93 4 1 52"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><line stroke="#ff0000" stroke-width="5" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,52) rotate(180)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 799px; top: 420px;" data-block-id="da9938305101d892714d06bfd910b7fa"><div class="sl-block-content" data-line-x1="93" data-line-y1="4" data-line-x2="93" data-line-y2="56" data-line-color="#ff0000" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 18;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="52" viewbox="93 4 1 52"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><line stroke="#ff0000" stroke-width="5" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,52) rotate(180)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 800px; top: 280px;" data-block-id="45cda746c21192d322605a893af6bdce"><div class="sl-block-content" data-line-x1="93" data-line-y1="4" data-line-x2="93" data-line-y2="56" data-line-color="#ff0000" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 19;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="52" viewbox="93 4 1 52"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><line stroke="#ff0000" stroke-width="5" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,52) rotate(180)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 400px; top: 420px;" data-block-id="a2cd346bbcd338090c31d123f539eeb2"><div class="sl-block-content" data-line-x1="93" data-line-y1="4" data-line-x2="93" data-line-y2="56" data-line-color="#ff0000" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 20;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="52" viewbox="93 4 1 52"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><line stroke="#ff0000" stroke-width="5" x1="93.5" y1="4.5" x2="93.5" y2="52.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,52) rotate(180)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 800px; top: 560px;" data-block-id="5c5c32032724f596bff29a3acfa23a58"><div class="sl-block-content" data-line-x1="93" data-line-y1="4" data-line-x2="93" data-line-y2="56" data-line-color="#ff0000" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 21;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="52" viewbox="93 4 1 52"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="93.5" y1="8.5" x2="93.5" y2="53.5"></line><line stroke="#ff0000" stroke-width="5" x1="93.5" y1="8.5" x2="93.5" y2="53.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,8) rotate(180)" d="M -11.25 -11.25 L 0 0 L 11.25 -11.25"></path><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,53) rotate(180)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 400px; top: 560px;" data-block-id="d221e2db5a60f0cc3b8c3108c88ef73b"><div class="sl-block-content" data-line-x1="93" data-line-y1="4" data-line-x2="93" data-line-y2="56" data-line-color="#ff0000" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 22;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="52" viewbox="93 4 1 52"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="93.5" y1="8.5" x2="93.5" y2="53.5"></line><line stroke="#ff0000" stroke-width="5" x1="93.5" y1="8.5" x2="93.5" y2="53.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,8) rotate(180)" d="M -11.25 -11.25 L 0 0 L 11.25 -11.25"></path><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(93,53) rotate(180)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 160px; top: 236px;" data-block-id="a87d091e7ee35ecffbb19ba3aca595ce"><div class="sl-block-content" data-line-x1="-219" data-line-y1="-14" data-line-x2="-140" data-line-y2="-14" data-line-color="#ff0000" data-line-start-type="line-arrow" data-line-end-type="none" style="z-index: 23;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="79" height="1" viewbox="-219 -14 79 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-214.5" y1="-13.5" x2="-139.5" y2="-13.5"></line><line stroke="#ff0000" stroke-width="5" x1="-214.5" y1="-13.5" x2="-139.5" y2="-13.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(-215,-14) rotate(90)" d="M -11.25 -11.25 L 0 0 L 11.25 -11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 161px; top: 375px;" data-block-id="a2e1bf710c08c461b432afb5dea49c24"><div class="sl-block-content" data-line-x1="-219" data-line-y1="-14" data-line-x2="-140" data-line-y2="-14" data-line-color="#ff0000" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 24;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="79" height="1" viewbox="-219 -14 79 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-218.5" y1="-13.5" x2="-143.5" y2="-13.5"></line><line stroke="#ff0000" stroke-width="5" x1="-218.5" y1="-13.5" x2="-143.5" y2="-13.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(-144,-14) rotate(90)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 160px; top: 515px;" data-block-id="f7fb28af106d3b6786733c3dd04707c8"><div class="sl-block-content" data-line-x1="-219" data-line-y1="-14" data-line-x2="-140" data-line-y2="-14" data-line-color="#ff0000" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 25;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="79" height="1" viewbox="-219 -14 79 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-214.5" y1="-13.5" x2="-143.5" y2="-13.5"></line><line stroke="#ff0000" stroke-width="5" x1="-214.5" y1="-13.5" x2="-143.5" y2="-13.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(-215,-14) rotate(90)" d="M -11.25 -11.25 L 0 0 L 11.25 -11.25"></path><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(-144,-14) rotate(90)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 161px; top: 655px;" data-block-id="0dd1bc784b67465e923d260d2e0f50f4"><div class="sl-block-content" data-line-x1="-219" data-line-y1="-14" data-line-x2="-140" data-line-y2="-14" data-line-color="#ff0000" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 26;" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="79" height="1" viewbox="-219 -14 79 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-214.5" y1="-13.5" x2="-143.5" y2="-13.5"></line><line stroke="#ff0000" stroke-width="5" x1="-214.5" y1="-13.5" x2="-143.5" y2="-13.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(-215,-14) rotate(90)" d="M -11.25 -11.25 L 0 0 L 11.25 -11.25"></path><path style="fill: rgba(0,0,0,0);" stroke="#ff0000" stroke-width="5" transform="translate(-144,-14) rotate(90)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 561px; top: 656px;" data-block-id="745d4e52a96d62671f14ef86b7436a5d"><div class="sl-block-content" data-line-x1="-219" data-line-y1="-14" data-line-x2="-140" data-line-y2="-14" data-line-color="#a8276b" data-line-start-type="line-arrow" data-line-end-type="none" style="z-index: 27;" data-line-style="dotted" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="79" height="1" viewbox="-219 -14 79 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-214.5" y1="-13.5" x2="-139.5" y2="-13.5"></line><line stroke="#a8276b" stroke-width="5" stroke-dasharray="0 9.875" stroke-linecap="round" x1="-214.5" y1="-13.5" x2="-139.5" y2="-13.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#a8276b" stroke-width="5" transform="translate(-215,-14) rotate(90)" d="M -11.25 -11.25 L 0 0 L 11.25 -11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="d79026a44ff9b917dfad77d5407e4477"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 28;">
<h1>The machine room</h1>
</div></div></section><section data-id="6c7d383bc66a6c2df1a8cb984c845e74"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="390d1f8e4b94b6beb3e8eed60925be9d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>The formatting contexT</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="c15bc1a89ec6a554b682b3ea5f7beda0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<ul>
	<li>is created in the interface layer</li>
	<li>holds the character type in terms of which the formatting engine operates</li>
	<li>holds a range referencing the format string</li>
	<li>holds the argument list with references to the formatting arguments</li>
	<li>holds an iterator referencing the next write position in the output sink</li>
	<li>may hold supplemental data supplied at the interface<br>
	(custom contexts)</li>
	<li>glues formatters to the formatting engine<br>
	(custom contexts)</li>
</ul>
</div></div></section><section data-id="f0ef5edcc24eb8656c04034db69b4722"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="605c88abeef68174a6a03a71c44eab4a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;" dir="ui">
<h1>TYPE ERASURE</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 204px;" data-block-id="e9399c0480d231d79e9d70658e2fa968"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The standard interface is the rich set of function-overloads which is 100% aware of all types, both of the format string and of all of the formatting arguments.</p>

<p>References to the formatting arguments are held in a type-aware 'format_arg_store'.</p>

<p>This layer is meant to be as thin as possible, effectively only stripping the type information from the input types and categorizing them into a small set of well-known inner argument types.</p>
</div></div></section><section data-id="f31243510b90a223a4e4b159f451dc66"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 37px;" data-block-id="ba2912c8cfb2cac27a5e19df2e669cf4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;" dir="ui">
<h1>Format</h1>

<h1>vformat</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;" data-block-id="0970422cecd9cedff47cb53f597c11c0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Here, <span style="color:#FFFF00">format</span> is only a representative of all of the type-aware interface functions shown earlier.</p>

<p>After erasing the types of the formatting arguments, the much smaller set of <span style="color:#FFFF00">v*</span> functions (e.g. <span style="color:#FFFF00">vformat</span>) does the actual work.</p>

<p>Most importantly, the <span style="color:#FFFF00">v*</span> functions require much fewer template instantiations (thanks to type erasure), and have a fixed number of arguments rather than a variable number.</p>

<p>Using these <span style="color:#FFFF00">v*</span> functions in application codeÂ  may be a better option in certain use-cases (e.g. logging).</p>
</div></div></section><section data-id="848598f886dd6b80fa39a30345ec5751"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 37px;" data-block-id="765faffa4696c84149471792cc1e9022"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;" dir="ui">
<h1>String</h1>

<h1>basic string view</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;" data-block-id="71418290eb5a0ce4be62e7d7ec5c9114"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Eventually, the same type erasure happens to the String template parameter type of the format string.</p>

<p>Like all other strings amongst the formatting arguments, the formatting string is cooked down into the internal <em>lingua franca</em> 'fmt::basic_string_view&lt;Char&gt;'.</p>

<p>Being trivially copyable with a small footprint makes string views ideal vehicles to deal with any kind of string.</p>
</div></div></section><section data-id="a5dc862ba9d6f3b4b41800f01ed1e512"><div class="sl-block" data-block-type="text" style="height: auto; width: 640px; left: 160px; top: 37px;" data-block-id="29e727ab03ca0c81a7b44b865a2d30e9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;" dir="ui">
<h1>format argument store</h1>

<h1>basic format args</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 256px;" data-block-id="3b30990a3703e9723dfe87845d3c4199"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The fully type-aware 'format_arg_store&lt;Args ...&gt;' is a container holding references to the set of given formatting arguments.</p>

<p>Another type-erased container of same size called 'basic_format_args' hold a listÂ  of 'format_args' (effectively a variant type), that can be constructed from a 'format_arg_store'. Each element in the container has the size of two pointers, which is large enough to keep the essential information of every original formatting argument.</p>

<p>When required, the original argument with its full type can be resurrected, e.g. as arguments to custom-formatters.</p>
</div></div></section><section data-id="cdd3c33efa5b425e546ea8e7e7938124"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="1e72b5537dcab5021cde05e24c53b291"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 200%;">
<p style="text-align: left;">{fmt} all the things!</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 510px; height: 560px; left: 450px; top: 140px;" data-block-id="016cb220aab0b204ec0f179b061ad95a"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="1229" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/a17acf2f65a9edbf79c8fd111885eb6e.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 140px;" data-block-id="cce16a04477291dc0945bb448a353e7c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>extending the library</p>
</div></div></section><section class="stack" data-id="03c0a71d45135ac42edf7015bc008189"><section data-id="695decd9792589ad6f72c86560403ff9"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="bf03260ef922f1366b4c782ea657b942"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Before we start ...</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="0cfc6c5655d9ef4caf53ea118f207e56"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>There is another header in fmt called &lt;fmt/color.h&gt;.</p>

<p>It provides two more overloads of <span style="color:#FFFF00">print</span> to print <em><strong>colored text</strong> </em>to the console.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 344px; left: 80px; top: 356px;" data-block-id="3f3c6907330ab039ef7e10a3daa1598b"><div class="sl-block-content notranslate" style="z-index: 14; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/color.h&gt;

struct rgb {
  uint8_t r, g, b;
};

template &lt;typename String, typename... Args&gt;
void print(rgb foreground, const String &amp; format,
           const Args &amp;... args);

template &lt;typename String, typename... Args&gt;
void print(rgb foreground, rgb, background, const String &amp; format,
           const Args &amp;... args);
  </code></pre></div></div></section><section data-id="0fca663d59618d7b85cd7184c66bac22"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="9b8621290356bf3a46010a9a30f30413"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Before we start ...</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 163px;" data-block-id="fde7a23bb7a70a522008888aafdddbdf"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Let's explore the options that we have to print the background color components colored to the console. Our baseline is this simple code that comes up with some colors:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 167px; left: 80px; top: 323px;" data-block-id="7ab2a43461918a48b06be94fbd577ad9"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">void baseline() {
  forSomeColors([](rgb foreground, rgb background) {
    print(foreground, background, " {:02x}{:02x}{:02x} ",
          background.r, background.g, background.b);
  });
}</code></pre></div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 800px; height: 163px; left: 80px; top: 527px;" data-block-id="b2cb84679783c4cc3afb9fe92de83f3e"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="640" data-natural-height="130" data-lazy-loaded="" data-src="socializing-with-fmt/26d6954d90dcfdce082ccdb10637dc12.png"></div></div></section><section data-id="ca29781d1c579bc83288e8e21546dc54"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e1033a810fc883748810bb79f4c15e2c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Before we start ...</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 163px;" data-block-id="1de674f0b4d765cebe7ca07e62fbc332"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Manually decomposing class members and feeding the individual elements to a formatting or printing facility is the traditional way to deal with C++ aggregates.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 311px;" data-block-id="90e6e9ed00eee31c7303e0837cb436e7"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" data-fragment-index="0">
<p>Alas, it's both tedious and error-prone.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 381px;" data-block-id="4fc6f9cff2bfe091f73250489870ed5a"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="1">
<p>Let's teach {fmt} new tricks how to handle types other than the built-in ones, in this case 'struct rgb'.</p>
</div></div></section></section><section class="stack" data-id="d85850dedd51d8ae7cd3e325530e5a3a"><section data-id="2b4232b63e85ccd1ca40e1e354bd3076"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="6ab6a02fba19a9f7f0e7df3256051830"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Formatters</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="95048420fcd906bd96eb351998a40438"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>This is the base template of (almost) all formatters. Some built-in formatters and all user-defined formatters are (partial) specializations of it.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 960px; height: 300px; left: 0px; top: 400px;" data-block-id="df79ae4dbc1eb274b2d26c4231dddb84"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">// A formatter for objects of type T.
template &lt;typename T, typename Char = char, typename Enable = void&gt;
struct formatter {
  static_assert(internal::no_formatter_error&lt;T&gt;::value,
    "don't know how to format the type, include fmt/ostream.h if it provides "
    "an operator&lt;&lt; that should be used");

  template &lt;typename ParseContext&gt;
  typename ParseContext::iterator parse(ParseContext &amp;);
  template &lt;typename FormatContext&gt;
  auto format(const T &amp; val, FormatContext &amp; ctx) -&gt; decltype(ctx.out());
};</code></pre></div></div></section><section data-id="58f7c362731e856474a8f2967a1da59d"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="6bb491aa2c6c47656fbb421ba5702464"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>Formatters</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="bc2a8c0f33d8c26d0e8484c9ab467589"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>You may specialize your custom formatter for only one character type</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 107px; left: 80px; top: 280px;" data-block-id="d5c60d253f920d72241d4820902e249f"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">// A formatter for objects of type T1.
template &lt;&gt;
struct formatter&lt;T1, wchar_t&gt; { ... };
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 420px;" data-block-id="ccf04ca03dd5e5d8ad96d1ee337b6b65"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>or SFINAE the specialization on predicates of your choice</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 195px; left: 80px; top: 490px;" data-block-id="f2a6384ea7b965715079275fc362c5d5"><div class="sl-block-content notranslate" style="z-index: 15; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">// A formatter for objects of type T2.
template &lt;typename T2, typename Char&gt;
struct formatter&lt;T2, Char, enable_if_t&lt;
                 sizeof(Char) == 2 &amp;&amp; is_base_of_v&lt;BaseType, T2&gt;&gt;
{
 ...
};
</code></pre></div></div></section><section data-id="8706ada76a6d231024f9d48ec90801da"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="5a21b8caa68bc7da3d999e4061419fdf"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Formatters</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="6076180815155a00e01df444a3fb7a99"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The <span style="color:#FFFF00">parse</span> function is responsible for parsing the <span style="color:#EE82EE">formatting specifier</span> part of a replacement field</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 140px; left: 80px; top: 266px;" data-block-id="f2f075be8028ceb2f96e52b85bf81da6"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename T&gt;
struct formatter {
  template &lt;typename ParseContext&gt;
  typename ParseContext::iterator parse(ParseContext &amp;);
};</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 419px;" data-block-id="ebd4f7d57eb7d9fadf6d487fe888a48b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>The given parse context models a <em>RandomAccessRange</em>, either beginning right after the colon (if there is one) or the opening curly brace, and extends to the end of the format string.</p>

<p>The <span style="color:#FFFF00">parse</span> function owns the front part of the range up to, but not including the next matching closing curly brace. The return value is an iterator that <strong>must</strong> reference this curly brace!</p>
</div></div></section><section data-id="a39aecea34fe9be41eff85c6afc1fc98"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="c2cb6bc0da7b4bd904141341a0ef9a5b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Formatters</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 202px;" data-block-id="e3170c36542a217f260f4a6b4ad46377"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The <span style="color:#FFFF00">format</span> function generates a character stream from the given value into the output sink of the format context.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 195px; left: 80px; top: 323px;" data-block-id="20d4209e291d83504694a0dd336ad9ae"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename T&gt;
struct formatter {
  template &lt;typename FormatContext&gt;
  auto format(const T &amp; val, FormatContext &amp; ctx)
    -&gt; decltype(ctx.out());
};</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 544px;" data-block-id="634843eb8f9238a3387cee440952caf6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>The iterator returned by the <span style="color:#FFFF00">out()</span> function of the given context models a <em>BackInserter</em> into a <em>BackInsertRange</em>. The return value is a iterator that refers to the next write position in the output sink.</p>
</div></div></section></section><section class="stack" data-id="0f25f2e6444463e1960569641c6cef97"><section data-id="38b8751b941545f5f7526232ca4aa330"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="a67eabc4ffa5a9c97b2b62f26240e13c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>A Simple Formatter</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="4c587d52dff6dc9e7faa2e744652ec49"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Achieve the same formatted output as the one generated from the baseline code</p>

<ul>
	<li>all 3 components</li>
	<li>side-by-side</li>
	<li>using the same formatting specification</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 443px;" data-block-id="9d4b4f5e3f55103a7522f30277b2f69a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>As an additional requirement, as much existing code as possible shall be reused to avoid duplication and possible errors.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;" data-block-id="ca1d0cb1fe07414739bcd3f74a03bb29"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="0">
<p>And I am lazy.</p>
</div></div></section><section data-id="cb993f434b4da5bad8fbfa85201ec01e"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="f1a069aad97aeaddb419f2f3befea27e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>A Simple Formatter</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 280px; left: 80px; top: 210px;" data-block-id="c2fa3d7cad8674289b6f04080b5ee4f1"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename Char&gt;
struct formatter&lt;rgb, Char&gt; : formatter&lt;uint8_t, Char&gt; {
  using base = formatter&lt;uint8_t, Char&gt;;

  template &lt;typename FormatContext&gt;
  auto format(const rgb_c &amp; color, FormatContext &amp;ctx) {
    base::format(color.r, ctx);
    base::format(color.g, ctx);
    return base::format(color.b, ctx);
  }
};</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 528px;" data-block-id="7de7bd3cc20fd4ad78663fd85df267be"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<ul>
	<li>No <span style="color:#FFFF00">parse</span> function required, it's inherited from the base class.</li>
	<li>The <span style="color:#FFFF00">format</span> function is trivial, it delegates the actual formatting of each component to the base class.</li>
</ul>
</div></div></section><section data-id="09c354def962325a361b266a9cdf224b"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="2d7ab1fff69368a82ac937f99931bfbe"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>A Simple Formatter</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 148px; left: 80px; top: 280px;" data-block-id="43101bcf5d03b2ee83b2c937bec259db"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">void simple() {
  forSomeColors([](rgb foreground, rgb background) {
    print(foreground, background, " {:02x} ", background);
  });
}</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;" data-block-id="f03731a2f0377266db94908fc966320c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>The result is identical to the one from the baseline,Â  just as expected.</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 800px; height: 163px; left: 80px; top: 490px;" data-block-id="4d1437055dac159a60e0288d6489f1ea"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="640" data-natural-height="130" data-lazy-loaded="" data-src="socializing-with-fmt/c9f13cc783ee7e1a3cafff76a1075a49.png"></div></div></section></section><section class="stack" data-id="947e15180922222cb656f1db5c131569"><section data-id="f344b64b5593d2c25602a91888b893e1"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="4094ee4443a26718b2fc282cae961fae"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>A bit more fancy</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="ab26ca2618b48c1b38881aafedb8eb8c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>So far, each component is rendered side-by-side to its siblings. Let's change the requirements a bit:</p>

<ul>
	<li>the component shall be separated by a comma</li>
	<li>the triplet shall be surrounded by a pair of braces</li>
</ul>

<p>Â </p>

<p>This doesn't affect parsing, but the formatting code needs some additions.</p>
</div></div></section><section data-id="391e72a1e241e31e55c873b6ac3a70b7"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="d7c6d7c9eee8ac166da5ffd4c935afe1"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>A bit more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 430px; left: 80px; top: 159px;" data-block-id="73ba39671dbbee8b41c116d4f3d2b737"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename Char&gt;
struct formatter&lt;rgb, Char&gt; : formatter&lt;uint8_t, Char&gt; {
  using base = formatter&lt;uint8_t, Char&gt;;

  template &lt;typename FormatContext&gt;
  auto format(const rgb_c &amp; color, FormatContext &amp;ctx) {
    auto it = ctx.begin();
    it = '(';
    it = base::format(color.r, ctx);
    it = ',';
    it = base::format(color.g, ctx);
    it = ',';
    it = base::format(color.b, ctx);
    it = ')';
    return it;
  }
};</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 622px;" data-block-id="00e50b84e092c36999051602eca1c509"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>The back insert iterator 'it' must be obtained from the context and the return values of the base formatters.</p>
</div></div></section><section data-id="6ac27c1be604f51a3a12888ba89f3a5f"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="ad287a754864621ccc4d6a5ce3d43870"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>A bit more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;" data-block-id="96c1d039358c0077157894c6905953ac"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>At the call site, nothing needs to be changed. For the sake of variation we use a different formatting specification.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 124px; left: 79px; top: 279px;" data-block-id="ce771fba516824b0c7c569d78aabe4e2"><div class="sl-block-content notranslate" style="z-index: 13;"><pre class="cpp"><code>void hardcoded() {
  forSomeColors([](rgb foreground, rgb background) {
    print(foreground, background, " {:3}  ", background);
  });
}</code></pre></div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 800px; height: 268px; left: 80px; top: 432px;" data-block-id="07d2cfdc92315c1c2960f160cae5ffd9"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="640" data-natural-height="214" data-lazy-loaded="" data-src="socializing-with-fmt/5503d96177dadc5ad021891b6de2204c.png"></div></div></section></section><section class="stack" data-id="005e3ab41c46275a9e82b64eb5da38e8"><section data-id="64ff1035c92dd54e1eac40fa7da755da"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e91c6cd8859d649c5e7ee2196f8be0b8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>Even more fancy</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="4a37451dbef81704f63c92441574350d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Let's change the requirements once again:</p>

<ul>
	<li>the component shall be optionally separated by a user-defined character</li>
	<li>only in case of an alternate decimal formatting mode, the triplet shall be surrounded by a pair of braces</li>
	<li>only in case of an alternate hexadecimal formatting mode, the triplet shall be prepended by a # character</li>
</ul>

<p>This doesn't affect the formatting code much over the previous one, but the format specification language must be extended. Therefore a default parser won't do any longer.</p>
</div></div></section><section data-id="cae84a08a6fe772d8ce611091173139d"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="d2457609bcbff0e870b15900778daaa6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 187px;" data-block-id="f3ce2fc1c0174567b9dbfcc085c24b7e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Remember:</p>

<ul>
	<li>we have control only over the <span style="color:#EE82EE">formatting specification</span> part of the replacement field.</li>
	<li>if existing parsing code shall be reused, any extended format specification language must fit unambiguously into the standard one.</li>
</ul>

<p>There are two options:</p>

<ul>
	<li>prepend the standard formatting part with the optional extension part.</li>
	<li>or append the optional extension.</li>
</ul>

<p>In both cases, the first part must be delimited by a pair of curly braces to fit the restrictions.</p>
</div></div></section><section data-id="850ddd4dc7d5d9a209cecd5ce2add6d3"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="7eb18ca01ebb3942b4b492dba33aab9f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 187px;" data-block-id="aabbab986601cd5cd80a7e79ff9acfec"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;" dir="ui">
<p>The <strong>optional</strong> extension part shall be the one in braces, so extended the language this way:</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 296px;" data-block-id="75b5128e6759bab1fdb247ddfed2156a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<pre><span style="font-size:0.7em"><strong>extendedspec</strong> ::= ["{" <a href="http://fmtlib.net/dev/syntax.html#grammar-token-align" target="_blank"><span class="pre">alternate</span></a> [<a href="http://fmtlib.net/dev/syntax.html#grammar-token-fill" target="_blank"><span class="pre">delimiter</span></a>] "}"][<a href="http://fmtlib.net/dev/syntax.html#grammar-token-sign" target="_blank"><span class="pre">formatspec</span></a>]
<strong>delimiter</strong>    ::= a single character other than '{', '}' or '\0'
<strong>alternate</strong>    ::= ":" | "#"
</span></pre>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 435px;" data-block-id="c156e8e234b2320a5b0f7ba77a8339ca"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>Unfortunately, the current implemention of the library offers no accessors to the format specification parsed by the inherited formatter. Therefore custom formatters need to look into the <span style="color:#DAA520">formatspec</span> part by themselves if there is some vital information in there.</p>
</div></div></section><section data-id="4efe405c1d377b7e3f103a217ab6bf45"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="f79a0c01a817fdf2aad8f2d9ef0411c9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 153px;" data-block-id="fb2b3f5ad14f67d1f0979324e7d6b5fc"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;" dir="ui">
<p>The framework:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 860px; height: 444px; left: 80px; top: 225px;" data-block-id="60ea88a597a8f222a54352b252d23b6e"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename Char&gt;
struct formatter&lt;rgb, Char&gt; : formatter&lt;uint8_t, Char&gt; {
  using base = formatter&lt;uint8_t, Char&gt;;

  Char delimiter = {};
  bool isHex = false;
  bool isAlt = false;

  static constexpr bool isArgId(Char ch) {
    return ((ch &gt;= '0') &amp; (ch &lt;= '9')) | ((ch &gt;= 'a') &amp; (ch &lt;= 'z')) |
           ((ch &gt;= 'A') &amp; (ch &lt;= 'Z')) | (ch == '_');
  };

  template &lt;typename ParseContext&gt;
  auto parse(ParseContext &amp; ctx);
  template &lt;typename FormatContext&gt;
  auto format(const rgb &amp; color, FormatContext &amp; ctx);
};</code></pre></div></div></section><section data-id="55318b78569897aaea271c15ed6f61f7"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="48911432facea32dccc108cf86bee273"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 153px;" data-block-id="15f44ea88555da745745325d9487efd0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;" dir="ui">
<p>The parser, pull out the optional extended part:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 860px; height: 490px; left: 74px; top: 210px;" data-block-id="46c813ff3dd7b7b7ee35a354203ba8c1"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">auto parse(ParseContext &amp; ctx) {
  bool inBraces = false;
  unsigned pos = 0;
  unsigned prefix = 0;
  Char previous = {};

  for (auto ch : ctx) {
    if (inBraces) {
      if (ch == '}')
        inBraces = false;
      if (pos &lt; 4) {
        if (ch == '}') {
          if ((!isAlt &amp; !delimiter &amp; (pos == 1)) | (isAlt &amp; (pos == 2))
              | (delimiter &amp; (pos == 3)))
            prefix = pos + 1;
        } else if ((pos == 1) &amp; (ch == '#')) {
          isAlt = true;
        } else if (pos == 2) {
          if (isAlt | (previous == ':')) {
            delimiter = ch;
</code></pre></div></div></section><section data-id="1bc921e625fd895c892dc5389fcdbd3a"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="c15a52aad8128669c55b4e2940cb976b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 153px;" data-block-id="38a5c819a0eed04c2d8bd6cd606f0f70"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;" dir="ui">
<p>Check for the standard format specification:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 860px; height: 490px; left: 74px; top: 210px;" data-block-id="d38de97fd8ba5c0835e462f8397557a3"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">auto parse(ParseContext &amp; ctx) {
  ...
  for (auto ch : ctx) {
    ...
          } else if (!isArgId(previous)) {
            ctx.on_error(
              "invalid prefix: first character must be ':' or '#'");
          }
        } else if (pos == 3) {
          ctx.on_error("invalid prefix: missing closing '}'");
        }
      }
    } else {
      if (ch == '{') {
        inBraces = true;
      } else if (ch == '}') {
        isHex = (previous == 'x') | (previous == 'X');
        break;
      }
    }
</code></pre></div></div></section><section data-id="050d4a9741560ef72d05608a9fa21a95"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="5970882e776f279f306da08e6146ad91"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 153px;" data-block-id="5ebe27b777cba347c1e9d32a75cd1100"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;" dir="ui">
<p>Trace the amount of parsed characters so far, chop off the consumed prefix, and feed the rest into the parser of the inherited formatter class.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 295px; left: 80px; top: 311px;" data-block-id="4b94f51061d84a35b4fa3ef9f21554cc"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">auto parse(ParseContext &amp; ctx) {
  ...
  for (auto ch : ctx) {
    ...
    ++pos;
    previous = ch;
  }

  ctx.advance_to(ctx.begin() + prefix);
  return base::parse(ctx);
}</code></pre></div></div></section><section data-id="f08d34383f4fa9f9678ae8476224d471"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="086c78a12674c25f4fc4f6032826a51c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="1f1d990b19822273ca55c6b0addcab7a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;" dir="ui">
<p>The <span style="color:#FFFF00">format</span> function is no longer using hardcoded values but rather the parsed properties instead.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 280px; left: 80px; top: 311px;" data-block-id="eec31124c38afc3f52dd0c030bfaf7f7"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">auto format(const rgb &amp; color, FormatContext &amp;ctx) {
  auto it = ctx.begin();
  if (isAlt) it = isHex ? Char{ '#' } : Char{ '(' };
  it = base::format(color.r, ctx);
  if (delimiter) it = delimiter;
  it = base::format(color.g, ctx);
  if (delimiter) it = delimiter;
  it = base::format(color.b, ctx);
  if (isAlt &amp;&amp; !isHex) it = Char{ ')' };
  return it;
}</code></pre></div></div></section><section data-id="ac8f508f5c441d0d707907adb34b3091"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="3c9c77f4d8b02e06c578a13b69fa52eb"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 153px; left: 80px; top: 280px;" data-block-id="c31cd1e4dc2edf557b742e47bb83c21b"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">void fancy() {
  forSomeColors([](rgb Foreground, rgb Background) {
    print(Foreground, Background, " {:{#}02X}  ", Background);
  });
}
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;" data-block-id="be93d0c3f87a313c96e62ee648564725"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>Alternative mode hexadecimal formatting without delimiters will look like this:</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 800px; height: 180px; left: 80px; top: 490px;" data-block-id="b0fa008367c89996d3e6d78908e6dc59"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="640" data-natural-height="144" data-lazy-loaded="" data-src="socializing-with-fmt/9dad4afb61413bc0f2e11aac037953aa.png"></div></div></section><section data-id="636eba50efd55136eae811e3c752eb48"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="58e7d054a42ca0ed2b89362d5366f6fc"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Even more fancy</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 153px; left: 80px; top: 236px;" data-block-id="396201914ace92f38324db7983ecb4fd"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">void fancy() {
  forSomeColors([](rgb Foreground, rgb Background) {
    print(Foreground, Background, "   {:{:-}03}  ", Background);
  });
}
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="e015efbf1a1292b0562fa03923a42fd0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>And dash-delimited decimal formatting looks like this:</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 800px; height: 268px; left: 80px; top: 432px;" data-block-id="0d908fd3fc4e7ec7e44ad2e6df58525a"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="640" data-natural-height="214" data-lazy-loaded="" data-src="socializing-with-fmt/a043b00c984fa54690ef3647bbb04497.png"></div></div></section></section><section class="stack" data-id="1c34ab654e181fd8e2249187142e09c6"><section data-id="df40227089ff3093c122b99a670ca120"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="0bf6fcc8e82c93df8b0832630691b68b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>output streams</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="0bc5ba66211d936cb98b491b461c008b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>If a class has an associated output-stream 'operator &lt;&lt;', then {fmt} can use this, too, by generating a matching formatter.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 386px; left: 80px; top: 314px;" data-block-id="3158b2e61a5092fbc97d21c3a79e86ae"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/ostream.h&gt;

template &lt;typename Char&gt;
basic_ostream&lt;Char&gt; &amp; operator&lt;&lt;(basic_ostream&lt;Char&gt; &amp; os,
                                 const rgb &amp;) {
  return os &lt;&lt; setw(3) &lt;&lt; color.r &lt;&lt; ','
            &lt;&lt; setw(3) &lt;&lt; color.g &lt;&lt; ','
            &lt;&lt; setw(3) &lt;&lt; color.b;
}

void custom_ostream() {
  forSomeColors([](rgb Foreground, rgb Background) {
    print(Foreground, Background, " {} ", Background);
  });
}
</code></pre></div></div></section><section data-id="8e8b9375b0651382dcec536d66a7ee3e"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="d9a00cf8d1fe4413d1733e9cc8e72ef1"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>output streams</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="9c76c266f66a3c9842eddae5f41a4f24"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The generated formatter creates a temporary output stream into an internal buffer, calls the output-stream 'operator &lt;&lt;', and pushes the characters collected from the stream into the format sink.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 198px; left: 80px; top: 420px;" data-block-id="a66398a1bb0b0e7a53cadde1d8dc4a0c"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename Char, typename T&gt;
void format(basic_buffer&lt;Char&gt; &amp; buffer, const T &amp; value) {
  internal::formatbuf&lt;Char&gt; format_buf(buffer);
  basic_ostream&lt;Char&gt; output(&amp;format_buf);
  output.exceptions(failbit | badbit);
  output &lt;&lt; value;
}</code></pre></div></div></section><section data-id="1a5a640cbc87d860a5f3232d1f0c6b0d"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e01c404e8d0ec1a485a1c6087ebed97c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>output streams</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="bfbe72537a0fd435e4a20132948ebfee"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The drawback is the lack of control over the formatting process (everything is hardcoded).</p>

<p>Â </p>

<p>Caution: <strong>every</strong> type with an output-stream 'operator &lt;&lt;' gets an automatically generated formatter slapped on as soon as 'ostream.h' is included - even if there is an explicitly user-defined one. This will cause compile failures because of the ambiguity of two equally viable specializations: the generated one and the user-defined one!</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 622px;" data-block-id="85e9b2eb21fef7c2d74f8c4beb2c9332"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" data-fragment-index="0">
<p>This makes incrementally moving from ostream-based formatting to {fmt} difficult.</p>
</div></div></section></section><section data-id="bdc68f0045e3a873e6cf3610dc91889b"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="b071f4e74d3785687d3d1e647d9e33a0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 200%; text-align: left;">
<p>{fmt} all the strings!</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 530px; height: 560px; left: 430px; top: 140px;" data-block-id="3121018ad4bfa06f2caa33fe2c25b409"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="1277" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/eb63f865890708f2a7c0796817412efd.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 140px;" data-block-id="ca41dba2c2e01599fc13347298efc950"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>beyond STL</p>
</div></div></section><section class="stack" data-id="d90657a8b45a3b4decb1f2bcacb12e91"><section data-id="fc19b3a75643b9b5e3847897647836dc"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="da1031ffb19b4077dd01d11c3e86b5d6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>STrings</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="c45ca1c68b281416024e73deed4447e3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>{fmt} unifies all string types, from the C heritage up to the C++ string (and string_view if available) classes, into a single view type using a built-in, very simple 'fmt::basic_string_view'. As it is independent from the STL, it can be used uniformly on each compiler in every compilation mode. It has constexpr implicit convertingÂ  constructors from</p>

<ul>
	<li>const Char *</li>
	<li>basic_string&lt;Char&gt;</li>
	<li>basic_string_view&lt;Char&gt;</li>
</ul>
</div></div></section><section data-id="2d04a6e987f41f81c32922a111305a85"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="8bd6dc80fede3b4ea7b980b1b1d81c6d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>STrings</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 169px;" data-block-id="bb28a9c80043534b576abe1819cee6bc"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Because of those constexpr implicit convertingÂ  constructors from all C++ string types, 'fmt::basic_string_view&lt;Char&gt;' looks like the prefect choice as receive type for format strings!</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 350px;" data-block-id="b2c68337be79097e068f7c69930dd6e4"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" data-fragment-index="0">
<p>Except when it is not.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 420px;" data-block-id="2a47fde961d0346f4a1903ae507ce402"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="1">
<p>There are so many more string types or string-like types out there:</p>

<ul>
	<li>in the STL, e.g. array&lt;Char&gt; or vector&lt;Char&gt;</li>
	<li>outside of the STL, e.g. QString, CString, XStr, BStr, ...</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 622px;" data-block-id="9a5723f2fc57a9f1afe534c3988b07cc"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;" data-fragment-index="2">
<p>In fact, every contiguous sequence of Chars can be treated as a string.</p>
</div></div></section><section data-id="c2272b7525e64576812bc8c25ff87e9e"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="4e4e55ba8586fdd2cc560a05f7e43572"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>STrings</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 151px;" data-block-id="50ad6432eacd81a4460a4acca244315e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Adding implict conversion constructors to fmt's string_view for all string-like types out there is obviously a non-starter.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 259px;" data-block-id="9c473d0ccfbaad67d4f6d7e94d1e8bab"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;" data-fragment-index="0">
<p>Adding an implicit conversion operator to fmt's string_view to those string-like types is practically impossible.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 367px;" data-block-id="69ccd3fc10c4e0f84cc7fa808cdb4c3f"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="1">
<p>And it is <strong>dangerous</strong>, too, because of unwittingly taking references to temporaries that are gone at the time of dereferencing!</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 514px;" data-block-id="07852c866b2aa7c4e321c76a405a98ff"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;" data-fragment-index="2">
<p>Manually converting to a standard C++ string or string_view or fmt's string view is possible but tedious and may introduce inefficiencies that are overlooked by untrained developers.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 661px;" data-block-id="a853a8dec955b7e702a7aec2e73b77b5"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; text-align: left;" data-fragment-index="3">
<p>There must be a better way ...</p>
</div></div></section></section><section data-id="24091efdfa7d88215143ab7c2a6a4d91"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="a3723e14f6d0e344ea8ab1d378c77db3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>An idea</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="6adb341d2694ba303f94aafed61aa41e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>If all string types from the C++ standard are converted to the internal <em>lingua franca</em> <strong>fmt::basic_string_view&lt;Char&gt;</strong> anyway, why not using a free function as an explicit conversion operator, make it a customization point, and express all conversions to the internal string_view by this conversion operator?</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 490px;" data-block-id="617cd1d3db22817ca5300bc0a267971f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>Even better, such a conversion operator already existed as an internal utility, it wasn't just used universally and it wasn't publicly visible.</p>
</div></div></section><section data-id="7c2f776041ed980a13141d5822fd5dc4"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="2105d10b989f5cf04007c196f5d53b60"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>The Plan</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="f7639b9bc3c539407fe6e4162576c256"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<ul>
	<li>
<strong>replace</strong> the exposed 'fmt::basic_string_view' in the format string parameter slot by a <strong>String template</strong> parameter which accepts only strings and string-like types<br>
	(metaprogramming galore)</li>
	<li>express <strong>all</strong> conversions to 'fmt::basic_string_view' <strong>only</strong> in terms of the conversion operator</li>
	<li>put the conversion operator into the <strong>public</strong> interface of {fmt}</li>
	<li>make it a customization point and <strong>detect</strong> by ADL if there exists this conversion operator for <strong>any</strong> given type<br>
	(even more metaprogramming)</li>
</ul>
</div></div></section><section class="stack" data-id="4311177ee952c402683dc34b2cdd2e1f"><section data-id="596a84a86cbb5f9a4639f8156862ed26"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 640px; left: 160px; top: 70px;" data-block-id="df7ae3ff137ebe6ceb15cd6020e7f61b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>COnversion to Stringview</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 849px; height: 99px; left: 56px; top: 181px;" data-block-id="af0317620890aaa44d5a1628a9ed9e13"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">namespace ns_of_string_type {
  constexpr auto to_string_view(const string_type &amp; string) noexcept;
}</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 303px;" data-block-id="1ce4b3778565895d916243e6aeb3a6cb"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<ul>
	<li>must be declared in exactly the same namespace where 'string_type' is declared.</li>
	<li>must return an instance of 'fmt::basic_string_view&lt;Char&gt;'.</li>
	<li>Char must match the character type of 'string'.</li>
	<li>is typically parameterized on the character type.</li>
	<li>the Char <strong>reference</strong> in the returned view must be <strong>stable</strong>.</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 849px; height: 140px; left: 56px; top: 560px;" data-block-id="8a99b2f3aab2a172fce51a651e0a9961"><div class="sl-block-content notranslate" style="z-index: 14; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">namespace ns_of_string_type {
  template &lt;typename Char&gt;
  constexpr fmt::basic_string_view&lt;Char&gt;
    to_string_view(const string_type&lt;Char&gt; &amp; string) noexcept;
}</code></pre></div></div></section><section data-id="80665d1a4985d0a9885bc9f3868848a9"><div class="sl-block" data-block-type="text" style="height: auto; width: 640px; left: 160px; top: 70px;" data-block-id="427a47a08a84007f14fbc98a664a0429"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>COnversion to Stringview</h2>
</div></div>


<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="ff2491fd351e7b72bb94debf07240fe0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: center; font-size: 140%;">
<p>In fact, the whole concept of a <em>String</em> in {fmt} is now built upon the convertability of a given type to a 'fmt::basic_string_view&lt;Char&gt;'.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 490px;" data-block-id="6925737c0f665a9b2b18593d9da72e05"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 130%;">
<p>If a type is <strong>not convertible</strong>, then it's <strong>not a String</strong></p>
</div></div></section><section data-id="6e2ccb1db3605b4998e92dae6fffbcf7"><div class="sl-block" data-block-type="text" style="height: auto; width: 640px; left: 160px; top: 70px;" data-block-id="506d36d089580a4ca613f0bbdce12576"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>COnversion to String view</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 373px; left: 80px; top: 257px;" data-block-id="b09056efd8608b2e57a462c766511955"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;atlstr.h&gt;

namespace ATL {

template &lt;typename Char&gt;
constexpr fmt::basic_string_view&lt;Char&gt; to_string_view(
  const CStringT&lt;Char,
                 StrTraitATL&lt;Char,
                 ChTraitsCRT&lt;Char&gt;&gt;&gt; &amp; String) noexcept {
  return { reinterpret_cast&lt;const Char *&gt;(String),
           static_cast&lt;size_t&gt;(String.GetLength()) };
}

} // namespace ATL</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;" data-block-id="55fc24e309f4e8a5ad37036143bd48f8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>MFC/ATL strings</p>
</div></div></section><section data-id="508f6fa9abcc88c65b7af06ddd6ca470"><div class="sl-block" data-block-type="text" style="height: auto; width: 640px; left: 160px; top: 70px;" data-block-id="c96de8c3fec0092f4759e82895656d44"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>COnversion to String_view</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 303px; left: 80px; top: 257px;" data-block-id="038e37a88721aed067040535955e34a5"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;QString&gt;

QT_BEGIN_NAMESPACE

constexpr fmt::basic_string_view&lt;char16_t&gt;
to_string_view(const QString &amp; String) noexcept {
  return { reinterpret_cast&lt;const char16_t *&gt;(String.utf16()),
           static_cast&lt;size_t&gt;(String.length()) };
}

QT_END_NAMESPACE</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="72a4b07d4bc81ce0280d1152bb5eac1c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>QStrings</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;" data-block-id="affecb080075d06b1f3c46261bc6b0af"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>At least on Windows, replacing char16_t by wchar_t is possible, too.</p>
</div></div></section></section><section data-id="8abbc04ded991f4375bb6b739c0fdbf2"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="a0ff8a3da25bbc2d24493bf8313c9715"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>The Result</h1>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 220px; left: 80px; top: 200px;" data-block-id="4f7907a58638481ebe6dcd5e2e21464e"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;QString&gt;
#include &lt;atlstr.h&gt;
#include &lt;string&gt;

const auto qstr = QString("Hello {} - {} ");
const auto wstr = wstring(L"Meeting C++ ðŸ¤˜ðŸ»");
const auto cstr = CString("GrÃ¼ÃŸe aus NÃ¼rnberg");
result = format(qstr, wstr, cstr);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 474px;" data-block-id="4c6d51354e245b8cd733947e1e3cae01"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p><span style="color:#FFFF00">format</span> returns a 'std::wstring' with contents</p>

<p>"Hello Meeting C++ ðŸ¤˜ðŸ» - GrÃ¼ÃŸe aus NÃ¼rnberg"</p>

<p>Â </p>

<p>(in this case, the conversion from QString is defined to use character type wchar_t)</p>
</div></div></section><section data-id="b74d90917206cdfa7ff677e462965049"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="fbe971c9f0abb483ac91eb7dc712c168"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left; font-size: 200%;">
<p>{fmt} in all languages</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 536px; height: 560px; left: 424px; top: 140px;" data-block-id="dc8e0b1dbf1bcae65161934963c54a11"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="1252" data-natural-height="1309" data-lazy-loaded="" data-src="socializing-with-fmt/f195e05116ec45f1b5da812a1e40b86e.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 140px;" data-block-id="9f61bf03af9ed68e06bce03e8d5cc192"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>localization</p>
</div></div></section><section data-id="0e00e038a97e3c5e26a897921ad7edec"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="32e52c42f5975dc2db27b292419af51c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>internationalization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="a5c81e45693582737fb112e7185eb263"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Generating formatted output for different cultures in various languages is affected by three aspects:</p>

<ul>
	<li>text translation</li>
	<li>number rendering</li>
	<li>date/time rendering</li>
</ul>

<p>or in C++ speak:</p>

<ul>
	<li>the std::messages facet</li>
	<li>the std::numpunct facet</li>
	<li>/* crickets */</li>
</ul>

<p>of a locale.</p>

<p>{fmt} is aware of the numpunct facet of the global locale.</p>
</div></div></section><section class="stack" data-id="569cc200dfa66ec065e7b0cdc0fed425"><section data-id="c5708e23349c997cce737514ffb798a8"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="59ab7c8812d262e5508e8aa4d495bf2d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Text Translation</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="6c1ae82d2d940da7bfceceac18566997"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>needs to be handled by machinery completely outside of {fmt}. There are many options to get at translated text according to the currently selected global locale. Popular ones are</p>

<ul>
	<li>GNU gettext</li>
	<li>Boost.Locale, a C++ implementation of 'gettext' (plus more)</li>
	<li>Qt TS</li>
	<li>...</li>
</ul>
</div></div></section><section data-id="5ea613205505ac92b484a0fbfec8fc8b"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="ab1f22aced14fb800995e6a606827336"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Text Translation</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="7c54a96e29ed375de1e3d662e6f49ded"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>There is little to say about GNU gettext because it is based on C strings, and {fmt} knows how to deal with C strings.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 334px;" data-block-id="5b4fe78d67165c97ea7fe257d3f334c6"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;" data-fragment-index="0">
<p>The Qt translation system is fully based on Qt's QStrings, and those can be easily made interoperable with {fmt} by means of a 'to_string_view' conversion operator.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 621px;" data-block-id="2bb15f52aa2627955442766582a0eacf"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="2">
<p>Boost.Locale is different, though.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 497px;" data-block-id="b689643e36713cf611e2a7a04c092aab"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;" data-fragment-index="1">
<p>This is probably true for many other translation systems as well.</p>
</div></div></section><section data-id="d81d72b7a460028ab78d857ff599c99b"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="7180b2da9a3e14d098b84f17d57a908e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Boost.Locale</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 821px; height: 520px; left: 70px; top: 180px;" data-block-id="090ad7a008e002a3a5d12284ff7a4b3c"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">// gnu gettext
//   'translate' is a macro
//   returns a C string

#include &lt;libintl.h&gt;
auto translated = translate("text");

// Boost.Locale
//   'translate' is a function
//   returns a proxy object of type
//
//   template &lt;typename Char&gt;
//   boost::locale::basic_message&lt;Char&gt;

#include &lt;boost/locale.hpp&gt;
using namespace boost::locale;

auto proxy = translate("text");

string explicitly_translated = proxy.str(); // fine, but tedious
string implicitly_translated = proxy;       // nice, but dangerous!
</code></pre></div></div></section><section data-id="a4c6975efda03334859a143e97c5edb3"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="6717df3d981b7ed925f4e062cad8b7d3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Boost.Locale</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 311px; left: 80px; top: 249px;" data-block-id="4fd4ff8d0eac4822dd6460aecd2fcdde"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;boost/locale.hpp&gt;

namespace boost::locale {

template &lt;typename Char&gt;
inline fmt::basic_string_view&lt;Char&gt;
to_string_view(const basic_message&lt;Char&gt; &amp; message) noexcept {
  const auto translated = message; // does the actual translation
  return { translated.data(), translated.size() };
}

} // namespace boost::locale</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;" data-block-id="b4af171191d7be2b36c0d037b9b035d8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>A conversion operator for Boost.Locale's 'basic_message':</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;" data-block-id="56c9449371f999b834f1fbe626b95fdc"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;" data-fragment-index="0">
<p>Easy, mission accomplished! {fmt} accepts 'basic_message'.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 640px;" data-block-id="75f2fae81834c8a786bc83c05d4f9587"><div class="sl-block-content fragment" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;" data-fragment-index="1">
<p>Say <em>hello</em> to UB ....</p>
</div></div></section><section data-id="7080a8ae24b7e68bb1cfeac3fbf06283"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="90d6bc80df053b53cba6ecb1b79298f6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Boost.Locale</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 448px; left: 80px; top: 252px;" data-block-id="612ac3be26fef32ddf13d8b77a24497b"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">namespace fmt {

template &lt;typename Char&gt;
struct formatter&lt;boost::locale::basic_message&lt;Char&gt;, Char&gt; :
       formatter&lt;basic_string_view&lt;Char&gt;, Char&gt; {
  using base = formatter&lt;basic_string_view&lt;Char&gt;, Char&gt;;
  basic_string&lt;Char&gt; translated;

  template &lt;typename FormatContext&gt;
  auto format(const boost::locale::basic_message&lt;Char&gt; &amp; message,
              FormatContext &amp; ctx) {
    translated = message;
    return base::format({translated.data(), translated.size()},
                        ctx);
  }
};

} // namespace fmt
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 144px;" data-block-id="d0458a772a23543354116f7b393adf89"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>There is no way to define a conversion operator without UB. But a user-defined formatter will do!</p>
</div></div></section><section data-id="edee8295a1dda6f2b79d0f7f4db93912"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="85b981c6271be102d7f8732f13e968d3"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>text translation</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 140px; left: 80px; top: 380px;" data-block-id="e6d4b6220ed7eb092abc876f62d89d6d"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">print(translate(L"{} - Greetings from Nuremberg").str(),
      QObject::tr("Â© 2018 All rights reserved"));

print(QObject::tr("{} - Greetings from Nuremberg"),
      translate(L"Â© 2018 All rights reserved"));
</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="d0c037dafe9593874acb1969a06385c0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>Putting all pieces together ...</p>

<p>With the conversion operator for QString, the user-defined formatter for 'boost::locale::basic_message' as shown before, and a German locale in place:</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 560px;" data-block-id="3e72644c89a546b042e965e4fcd3f444"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>Prints in both cases</p>

<p>"Â© 2018 Alle Rechte vorbehalten - GrÃ¼ÃŸe aus NÃ¼rnberg"</p>
</div></div></section><section data-id="39f791abb9f576d8bf0352fb8da0a5dc"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="ba3ac5a5c7f3fd613ad4e41d02d20f85"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h2>Boost.Locale (reprise)</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 451px; left: 80px; top: 249px;" data-block-id="337531da61bdc23f3d1b1722a8b88c0d"><div class="sl-block-content notranslate" style="z-index: 11; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">// requires an augmented version of Boost.Locale 1.68 or later
// that can return a std::string_view&lt;Char&gt; with *stable*
// references as an alternative to returning an ephemeral
// std::basic_string&lt;Char&gt; object

#include &lt;boost/locale.hpp&gt;

namespace boost::locale {

template &lt;typename Char&gt;
inline fmt::basic_string_view&lt;Char&gt;
to_string_view(const basic_message&lt;Char&gt; &amp; message) noexcept {
  const auto translated = message.sv(); // does the translation
  return { translated.data(), translated.size() };
}

} // namespace boost::locale</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 171px;" data-block-id="04793aa1eadcc228c46f31a82d8d202b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>A conversion operator for Boost.Locale's 'basic_message':</p>
</div></div></section></section><section data-id="c367f9512bd3666b2c4f6710a7e792cc"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="c8d124eadca44b68fa232cece3c9a80c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Numeric formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="152ae9cfbe0fe28dba1d2c9acec1e052"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;" dir="ui">
<p>In its current implementation, {fmt} uses the std::numpunct facet of the current global locale to format numbers.</p>

<p>A problem is the fact that standard libraries are not required to provide locale facets for character types other than 'char' and 'wchar_t'.</p>

<p>Formatting of floating-point types is backed by the compiler's library implementation which is usually locale-aware.</p>

<p>A super-fast floating-point formatter based on the Grisu2 algorithm is upcoming.</p>
</div></div>
</section><section data-id="78d70fcb8cf8d436c54e102ba94d22bd"><div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 480px; height: 560px; left: 480px; top: 140px;" data-block-id="365f2d70391a1be062eec3706158d372"><div class="sl-block-content" style="z-index: 11;" data-maintain-ar="false"><img style="" data-natural-width="800" data-natural-height="1020" data-lazy-loaded="" data-src="socializing-with-fmt/7bd1b963321bb080bed69cd432bf0b7e.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="594033836682542d383c847d1a849f67"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left; font-size: 200%;">
<p>{fmt} it's about time</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 80px; top: 140px;" data-block-id="a5ddcfdbf35a183f95e2e969ad59f327"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>date</p>

<p>time</p>
</div></div></section><section data-id="e4b22a8a74cdd01d06a3546e8ba4ce97"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="351d80290af433a2bf3e9cd16caeac15"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Time formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="ea57aca5b46bfdc61b348bd42b809e41"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>{fmt} has built-in support to format 'std::time_t' values from the C library:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 115px; left: 80px; top: 330px;" data-block-id="6dab710163a123490b8c9667856320d3"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;fmt/time.h&gt;

const auto Time = localtime(time(nullptr));
string s = format("It is now {:%Y-%B-%d %H:%M:%S}.", Time);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 490px;" data-block-id="748683c10705bc35e7284cd3bd989f07"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; text-align: left;">
<p>Prints e.g.</p>

<p>"It is now 2018-November-05 19:38:43."</p>
</div></div></section><section class="stack" data-id="126ee38893fdfdbc780a473e79cae628"><section data-id="88eae2989ebecfe8b3531322b299df27"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="7daf8f59b7b8611044c638102d9accb1"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>date formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="976dd24e489270f34f494bd59b88a1b4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>Formatting C++ date and time types requires the help of Howard Hinnant's <em>date</em> library or C++20.</p>

<p>This requires custom formatters for the types from std::chrono (and/or <em>date</em>):</p>

<ul>
	<li>duration</li>
	<li>time_point</li>
	<li>zoned_time</li>
	<li>and possibly some more</li>
</ul>
</div></div></section><section data-id="557f32e679258709ac16cd9cea915177"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="0f3a040f6ac59d0b846d5f0686c05cc0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>date formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 840px; left: 40px; top: 210px;" data-block-id="8ee81d9e201d840c3a31602af75193eb"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Build some framework: function <span style="color:#FFFF00">check_spec</span> determines the length of the formatting specification.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 880px; height: 350px; left: 40px; top: 341px;" data-block-id="96e678a84fe8b4fe49fb4dca464fadbf"><div class="sl-block-content notranslate" style="z-index: 13; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">#include &lt;date/date.h&gt;

template &lt;typename ParseContext&gt;
auto check_spec(ParseContext &amp; ctx) -&gt; typename ParseContext::iterator {
  unsigned pos = 0;
  for (auto ch : ctx) {
    if (!ch | (ch == '}'))
      return ctx.begin() + pos;
    ++pos;
  }
  ctx.on_error("invalid format specification");
  return {};
}</code></pre></div></div></section><section data-id="0a7fc77e23d23d0edb6b45776b9c983e"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="6da1d82b264ee77408fef9e4b352c095"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>date formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 60px; top: 210px;" data-block-id="f51003ec54f98991a5fea5c4d669b7a0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>The layout of a custom-formatter for 'chrono::time_point'</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 840px; height: 410px; left: 60px; top: 281px;" data-block-id="7ca18849b5318e95376505630d544a5b"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">namespace fmt {

template &lt;typename Clock, typename Duration, typename Char&gt;
struct formatter&lt;time_point&lt;Clock, Duration&gt;, Char&gt; {
  template &lt;typename ParseContext&gt;
  auto parse(ParseContext &amp; ctx);

  template &lt;typename FormatContext&gt;
  auto format(time_point&lt;Clock, Duration&gt; &amp; tp, FormatContext &amp; ctx);

private:
  basic_memory_buffer&lt;Char&gt; date_format; // holds the format spec
};

} // namespace fmt</code></pre></div></div></section><section data-id="d24260039c50881658aeb09d77aa921d"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="4352d7a8a7d5616803529902d6a448d7"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>date formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="5eb30cf7d1c796a10eb21ccfb8372667"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>The <span style="color:#FFFF00">parse</span> function:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 421px; left: 80px; top: 272px;" data-block-id="e29e35f7b85692bb88d80b75ad194949"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename ParseContext&gt;
auto parse(ParseContext &amp; ctx) {
  const auto begin = ctx.begin();
  const auto end   = check_spec(ctx);
  if (end == begin) {
    // empty specification
    // provide some meaningful default
    date_format.push_back('%');
    date_format.push_back('x');
  } else {
    // copy given specification for later use
    date_format.reserve(end - begin + 1);
    date_format.append(begin, end);
  }
  date_format.push_back(0);
  return end;
}
</code></pre></div></div></section><section data-id="51cff9fad93b27c49c338e54ec7db857"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="018aad5cc5610178a5716c1af497ab1f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>date formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 40px; top: 210px;" data-block-id="6714b9a1d2bf165958eed1fca42c6662"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>The <span style="color:#FFFF00">format</span> function.</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 840px; height: 280px; left: 40px; top: 280px;" data-block-id="5c5919f117928d63df42743c268806cd"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">template &lt;typename FormatContext&gt;
auto format(time_point&lt;Clock, Duration&gt; &amp; tp,
            FormatContext &amp; ctx) {
  back_insert_buf&lt;FormatContext&gt; buffer(ctx); // not shown here
  basic_ostream&lt;Char&gt; output(&amp;buffer);
  to_stream(output, date_format.data(), tp);  // from date or C++20
  if (output.fail())
     ctx.on_error("invalid format specification");
  return buffer;
}
</code></pre></div></div></section><section data-id="d223a2b84bc2678ef61b4fe5bc3a5163"><div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 70px;" data-block-id="e1f9ab9cf428994b54c91f002111a58a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 10;">
<h1>date formatting</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="a7894bbb0b81c5517d0bae4e4b08a39a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<p>The result:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 100px; left: 80px; top: 280px;" data-block-id="a9750d7b6db07b684e9d6da8602ef37a"><div class="sl-block-content notranslate" style="z-index: 12; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">const auto myBirthDate = local_days{ 11_d / mar / 1963 } + 5min;
auto result = format("My birth date is {:%A %d.%m.%Y %H:%M}",
                     myBirthDate);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 420px;" data-block-id="1b00355dc76e6f975c2762125af5f385"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>returns "My birth date is Monday 11.03.1963 00:05"</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 800px; height: 140px; left: 80px; top: 490px;" data-block-id="03b6fe604ce19fce54a055db431521a6"><div class="sl-block-content notranslate" style="z-index: 15; font-size: 120%;"><pre class="cpp"><code style="padding: 10px;">const auto myBirthDate = local_days{ 11_d / mar / 1963 } + 5min;
const auto myBirthZoned = make_zoned(current_zone(), myBirthDate);

auto result = format("My birth date is {:%A %d.%m.%Y %H:%M %Z}",
                     myBirthZoned);</code></pre></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 661px;" data-block-id="85a17f824e1941415cfe8c575326c74e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; text-align: left;">
<p>returns "My birth date is Monday 11.03.1963 00:05 CET"</p>
</div></div></section></section><section data-id="87fa10cfedb4a008d3a5d2088de1617d"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 652px; left: 80px; top: 0px;" data-block-id="b2b894a556932ac78eac0be688ebb901"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left; font-size: 200%;">
<p>{fmt} the future</p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 519px; height: 560px; left: 441px; top: 140px;" data-block-id="8a80267a580d41711e03b9a00facdef9"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="1252" data-natural-height="1350" data-lazy-loaded="" data-src="socializing-with-fmt/2abb2f0bf891c9ca32304001d3ba0d74.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 140px;" data-block-id="d1992096d3d09e7ec86dc2102a0c4561"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left; font-size: 150%;">
<p>further development</p>

<p>standardization</p>
</div></div></section><section data-id="86bb6a87fe26771bf64c8cdb830f5f0f"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="c7eaf81c2f64ae5a18d5cea96fe42410"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Development</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="d17e1df2acb8f032ac5bd41f385022d8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>From my personal perspective, I see a lot of progress in the past couple of weeks which widened the scope considerably. But I also see a few points that might need to be improved:</p>

<ul>
	<li>show better error messages which help users to easily identify mistakes</li>
	<li>the numeric formatting is still a bit weak on the locale-awareness</li>
	<li>create additional overloads which allow feeding locales into the formatting machinery</li>
	<li>allow easier use of allocators</li>
	<li>give custom formatters access to formatting specifiers that are parsed by formatters that they derive from</li>
</ul>
</div></div></section><section data-id="1a98ce5e6b61389537393ae30884c963"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;" data-block-id="0762da09c5314f556ee3702b937e5148"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Standardization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;" data-block-id="b755a85478c8cbef58d313ff0265d969"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>The progress so far:</p>

<ul>
	<li>2017-05-22 Â  P0645R0 Â  first proposal</li>
	<li>2017-11-10 Â  P0645R1 Â  second proposal</li>
	<li>2018-04-28 Â  P0645R2 Â  third proposal</li>
	<li>2018-10-07 Â  P0645R3 Â  fourth proposal</li>
</ul>

<p>Â </p>

<p>To be discussed in the San Diego meeting. As far as we know, the standards committee welcomes the library.</p>

<p>I see one problem though: the proposal is much narrower in its scope than the reference implementation which contains all of the features presented here.</p>
</div></div></section><section data-id="3ea1bdede0fde3c00fd1a18391c44eac"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 80px; top: 0px;" data-block-id="4a67bf5247fdd72386a4b6820d5d434b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; text-align: left;">
<h1>Resources</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 480px; left: 80px; top: 105px;" data-block-id="603b6b7a884f9f9e4bb8c1839aa8cce7"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; text-align: left;">
<p>Library</p>

<ul>
	<li><a href="http://fmtlib.net" target="_blank">fmtlib.net</a></li>
	<li><a href="http://github.com/fmtlib/fmt" target="_blank">github.com/fmtlib/fmt</a></li>
	<li><a href="https://youtu.be/ptba_AqFYCM" target="_blank">CppCon 2017 talk</a></li>
	<li><a href="http://wg21.link/P0645" target="_blank">standards proposal P0645</a></li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 80px; top: 350px;" data-block-id="1a8ed17129732e02ffc37172bebc5789"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; text-align: left;">
<p>Contact:</p>

<ul>
	<li>dani@ngrt.de</li>
	<li>github.com/DanielaE</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 107px; height: 107px; left: 640px; top: 350px;" data-block-id="57d9f094018ae369c1952b7afedae9d6"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="600" data-natural-height="600" data-lazy-loaded="" data-src="socializing-with-fmt/0a530aaa2390b3ec18da5f8f29057ef9.png"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 560px; left: 80px; top: 554px;" data-block-id="751f33f83b95a6c91ac500245203e8bb"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; text-align: left;">
<p>Images: Maria Sibylla Merian (1705)</p>

<p><span style="font-size:0.5em">source: WikiMedia Commons, public domain</span></p>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 107px; height: 140px; left: 640px; top: 554px;" data-block-id="e1d4afc148a3762ab552df5e515090f1"><div class="sl-block-content" style="z-index: 16;"><img style="" data-natural-width="184" data-natural-height="240" data-lazy-loaded="" data-src="socializing-with-fmt/6a64d8f1027df7b113eaa90393528a2a.jpeg"></div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 107px; height: 107px; left: 640px; top: 142px;" data-block-id="898820925d635d26a669bf6e7324b4cf"><div class="sl-block-content" style="z-index: 17;"><img style="" data-natural-width="316" data-natural-height="316" data-lazy-loaded="" data-src="socializing-with-fmt/d722b9990b947b59d2d0c0f2d341a4c6.jpg"></div></div></section><section data-id="562583442ee18f76bea05aed66cbd959"><div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 640px; left: 160px; top: 42px;" data-block-id="9579fd9de94447297d8bf1e234bb8856"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h1>Questions?</h1>
</div></div>
<div class="sl-block" data-block-type="image" style="min-width: 4px; min-height: 4px; width: 800px; height: 525px; left: 80px; top: 175px;" data-block-id="895054b8882843f7374f4564b1660b1f"><div class="sl-block-content" style="z-index: 12;"><img style="" data-natural-width="1920" data-natural-height="1260" data-lazy-loaded="" data-src="socializing-with-fmt/4e828dce845741e7e2315e2cad78a477.jpg"></div></div></section>
			</div>
		</div>

		<script>
			var SLConfig = {"deck": {"id":1359172,"slug":"socializing-with-fmt","title":"Socializing with {fmt}","description":"Getting familiar with the fmt library","width":960,"height":700,"visibility":"self","published_at":null,"sanitize_messages":null,"thumbnail_url":"https://s3.amazonaws.com/media-p.slid.es/thumbnails/6a5800e9d4cadc414cbb24e3f2f26816/thumb.jpg?1540745577","view_count":0,"user":{"id":951191,"username":"danielae","name":"Daniela Engert","description":"","thumbnail_url":"https://www.gravatar.com/avatar/c5ccadf8d859ea62b2e55d3bb96f9045?s=140\u0026d=https%3A%2F%2Fstatic.slid.es%2Fimages%2Fdefault-profile-picture.png","paid":true,"pro":false,"lite":true,"team_id":null,"settings":{"id":2110086,"present_controls":true,"present_upsizing":true,"present_pointer":false,"present_notes":true,"default_deck_tag_id":null}},"background_transition":"slide","transition":"slide","theme_id":null,"theme_font":"league","theme_color":"black-orange","auto_slide_interval":0,"comments_enabled":true,"forking_enabled":false,"rolling_links":false,"center":false,"shuffle":false,"should_loop":false,"share_notes":false,"slide_number":true,"slide_count":142,"rtl":false,"version":2,"collaborative":null,"deck_user_editor_limit":1,"data_updated_at":1541580055270,"font_typekit":null,"font_google":null,"notes":{}}};


			// Use local fonts
			SLConfig.fonts_url = 'lib/fonts/';
		</script>

		<script src="lib/head.min.js"></script>
		<script src="lib/reveal.min.js"></script>
		<script src="lib/offline.js"></script>

		<!-- Initialize the presentation -->
		<script>
			Reveal.initialize({
				width: 960,
				height: 700,
				margin: 0.05,

				controls: true,
				progress: true,
				history: true,
				mouseWheel: false,
				showNotes: false,
				slideNumber: true,

				autoSlide: 0 || 0,
				autoSlideStoppable: true,

				center: false,
				shuffle: false,
				loop: false,
				rtl: false,

				transition: "slide",
				backgroundTransition: "slide",

				dependencies: [
					{ src: 'lib/reveal-plugins/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'lib/reveal-plugins/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'lib/reveal-plugins/highlight/highlight.js', async: true, callback: function() { hljs.initHighlighting(); hljs.initHighlightingOnLoad(); } },
					{ src: 'lib/reveal-plugins/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'lib/reveal-plugins/zoom/zoom.js', async: true }
				]
			});
		</script>

		

	</body>
</html>
